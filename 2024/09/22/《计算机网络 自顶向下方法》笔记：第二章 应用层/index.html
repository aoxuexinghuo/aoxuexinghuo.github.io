<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>《计算机网络 自顶向下方法》笔记：第二章 应用层 | ℡傲雪&amp;星火ぴ</title><meta name="author" content="℡傲雪&amp;星火ぴ"><meta name="copyright" content="℡傲雪&amp;星火ぴ"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="🚥计算机网络 自顶向下方法 系列文章导航🚥 《计算机网络 自顶向下方法》笔记：第一章 计算机网络和因特网《计算机网络 自顶向下方法》笔记：第二章 应用层《计算机网络 自顶向下方法》笔记：第三章 传输层《计算机网络 自顶向下方法》笔记：第四章 网络层：数据平面《计算机网络 自顶向下方法》笔记：第五章 网络层：控制平面《计算机网络 自顶向下方法》笔记：第六章 链路层和局域网  一、应用层协议原理">
<meta property="og:type" content="article">
<meta property="og:title" content="《计算机网络 自顶向下方法》笔记：第二章 应用层">
<meta property="og:url" content="https://aoxuexinghuo.github.io/2024/09/22/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E3%80%8B%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E5%BA%94%E7%94%A8%E5%B1%82/index.html">
<meta property="og:site_name" content="℡傲雪&amp;星火ぴ">
<meta property="og:description" content="🚥计算机网络 自顶向下方法 系列文章导航🚥 《计算机网络 自顶向下方法》笔记：第一章 计算机网络和因特网《计算机网络 自顶向下方法》笔记：第二章 应用层《计算机网络 自顶向下方法》笔记：第三章 传输层《计算机网络 自顶向下方法》笔记：第四章 网络层：数据平面《计算机网络 自顶向下方法》笔记：第五章 网络层：控制平面《计算机网络 自顶向下方法》笔记：第六章 链路层和局域网  一、应用层协议原理">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://bu.dusays.com/2024/11/27/6746dfda5a0e1.jpg">
<meta property="article:published_time" content="2024-09-22T11:36:38.000Z">
<meta property="article:modified_time" content="2026-01-01T02:49:48.659Z">
<meta property="article:author" content="℡傲雪&amp;星火ぴ">
<meta property="article:tag" content="笔记">
<meta property="article:tag" content="计算机网络">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://bu.dusays.com/2024/11/27/6746dfda5a0e1.jpg"><link rel="shortcut icon" href="/img/pikachu.png"><link rel="canonical" href="https://aoxuexinghuo.github.io/2024/09/22/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E3%80%8B%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E5%BA%94%E7%94%A8%E5%B1%82/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":"ture","top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":150,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '《计算机网络 自顶向下方法》笔记：第二章 应用层',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/progress_bar.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_4778163_aof4rb3tf27.css"><!-- 在<head>标签中引入 Font Awesome (用于小风车)--><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (false) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><div id="web_bg" style="background-image: url(https://bu.dusays.com/2024/11/27/6746de97857ae.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/28/6747d82900e41.jpg" onerror="onerror=null;src='https://bu.dusays.com/2024/11/28/6748473533994.jpeg'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">32</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-pokeball"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw iconfont icon-check"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-folder"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-acamulator"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw iconfont icon-paper_plane"></i><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw iconfont icon-comete"></i><span> 个人</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://bu.dusays.com/2024/11/27/6746dfda5a0e1.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">℡傲雪&amp;星火ぴ</span></a><a class="nav-page-title" href="/"><span class="site-name">℡傲雪&amp;星火ぴ</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><!--span= ' ' + _p('search.title')--></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-pokeball"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw iconfont icon-check"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-folder"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-acamulator"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw iconfont icon-paper_plane"></i><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw iconfont icon-comete"></i><span> 个人</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">《计算机网络 自顶向下方法》笔记：第二章 应用层</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-09-22T11:36:38.000Z" title="发表于 2024-09-22 19:36:38">2024-09-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2026-01-01T02:49:48.659Z" title="更新于 2026-01-01 10:49:48">2026-01-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">9.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>30分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><blockquote>
<p><strong>🚥计算机网络 自顶向下方法 系列文章导航🚥</strong></p>
<ol class="series-items"><li><a href="/2024/09/22/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E3%80%8B%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC%E4%B8%80%E7%AB%A0%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%92%8C%E5%9B%A0%E7%89%B9%E7%BD%91/" title="《计算机网络 自顶向下方法》笔记：第一章 计算机网络和因特网">《计算机网络 自顶向下方法》笔记：第一章 计算机网络和因特网</a></li><li><a href="/2024/09/22/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E3%80%8B%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E5%BA%94%E7%94%A8%E5%B1%82/" title="《计算机网络 自顶向下方法》笔记：第二章 应用层">《计算机网络 自顶向下方法》笔记：第二章 应用层</a></li><li><a href="/2024/09/26/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E3%80%8B%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC%E4%B8%89%E7%AB%A0-%E4%BC%A0%E8%BE%93%E5%B1%82/" title="《计算机网络 自顶向下方法》笔记：第三章 传输层">《计算机网络 自顶向下方法》笔记：第三章 传输层</a></li><li><a href="/2024/10/13/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E3%80%8B%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC%E5%9B%9B%E7%AB%A0%20%E7%BD%91%E7%BB%9C%E5%B1%82%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%B9%B3%E9%9D%A2/" title="《计算机网络 自顶向下方法》笔记：第四章 网络层：数据平面">《计算机网络 自顶向下方法》笔记：第四章 网络层：数据平面</a></li><li><a href="/2024/10/24/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E3%80%8B%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC%E4%BA%94%E7%AB%A0%20%E7%BD%91%E7%BB%9C%E5%B1%82%EF%BC%9A%E6%8E%A7%E5%88%B6%E5%B9%B3%E9%9D%A2/" title="《计算机网络 自顶向下方法》笔记：第五章 网络层：控制平面">《计算机网络 自顶向下方法》笔记：第五章 网络层：控制平面</a></li><li><a href="/2024/10/29/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E3%80%8B%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E9%93%BE%E8%B7%AF%E5%B1%82%E5%92%8C%E5%B1%80%E5%9F%9F%E7%BD%91/" title="《计算机网络 自顶向下方法》笔记：第六章 链路层和局域网">《计算机网络 自顶向下方法》笔记：第六章 链路层和局域网</a></li></ol>
</blockquote>
<h2 id="一、应用层协议原理">一、应用层协议原理</h2>
<h3 id="1-网络应用程序体系结构">1.网络应用程序体系结构</h3>
<h4 id="（1）客户-服务器体系结构（client-server-architecture）">（1）客户-服务器体系结构（client-server architecture）</h4>
<p><strong>服务器</strong>：一直运行；固定的IP地址和周知的端口号（约定）；</p>
<p><strong>客户端</strong>：主动与服务器通信；与互联网有间歇性的连接；可能是动态IP地址；不直接与其他客户端通信；</p>
<p><strong>特点</strong>：扩展性差，对数据中心进行扩展；</p>
<h4 id="（2）对等体（P2P）体系结构">（2）对等体（P2P）体系结构</h4>
<ul class="lvl-0">
<li class="lvl-2">
<p>几乎没有一直运行的服务器；</p>
</li>
<li class="lvl-2">
<p>任意端系统之间可以进行通信；</p>
</li>
<li class="lvl-2">
<p>每一个节点既是客户端又是服务器；</p>
</li>
<li class="lvl-2">
<p>参与的主机间歇性连接且可以改变IP地址；</p>
</li>
</ul>
<p><strong>特点</strong>：难以管理；自扩展性（self-scalability）---新peer节点带来新的服务能力，当然也带来新的服务请求；</p>
<h3 id="2-进程通信">2.进程通信</h3>
<p><strong>进程（process）</strong>：在主机上运行的应用程序；</p>
<p><strong>客户端进程</strong>：发起通讯的进程；</p>
<p><strong>服务器进程</strong>：等待连接的进程；</p>
<p>在同一个主机内，使用进程间通信机制通信（由操作系统定义）；</p>
<p>不同主机，通过交换报文（message）来通信；</p>
<p><strong>注意</strong>：P2P架构的应用也有着客户端进程和服务器进程之分；</p>
<h3 id="3-分布式进程通信需要解决的问题">3.分布式进程通信需要解决的问题</h3>
<h4 id="（1）进程标识和寻址问题">（1）进程标识和寻址问题</h4>
<p>进程为了接收报文，必须有一个标识，即：<strong>SAP（服务访问点）</strong>（发送同样需要标识）</p>
<p><strong>标识三要素</strong>：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>主机IP地址：仅IP地址不能唯一标识进程，因为一台端系统上有多个进程在运行；</p>
</li>
<li class="lvl-2">
<p>所采用的传输层协议：TCP or UDP；</p>
</li>
<li class="lvl-2">
<p>端口号（Port Numbers）：标识在主机上运行的特定应用程序或服务；</p>
</li>
</ul>
<h4 id="（2）传输层如何向应用层提供服务">（2）传输层如何向应用层提供服务</h4>
<p><strong>层间接口必须要携带的信息</strong>：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>需要传输的报文：对于本层来说就是<strong>SDU（Segment Data Unit，段数据单元）</strong></p>
</li>
<li class="lvl-2">
<p>谁传的：对方的应用进程的标示，IP+TCP(UDP）端口</p>
</li>
<li class="lvl-2">
<p>传给谁：对方的应用进程的标示，IP+TCP(UDP）端口</p>
</li>
</ul>
<p>传输层实体（TCP或UDP实体）根据这些信息进行TCP报文段（UDP数据报）的封装。</p>
<p>而每次传输报文，都携带如此多的信息，过于繁琐，不便管理，我们使用代号标示通信的双方或单方：<strong>socket（套接字）</strong></p>
<blockquote>
<p><strong>TCP socket</strong>：在TCP应用中，套接字可以被视为一个四元组，其中包含了本地意义的标识（不具有全局意义）。</p>
<p><strong>四元组</strong>：源IP，源Port，目标IP，目标Port</p>
<p><strong>UDP socket</strong>：在UDP应用中，套接字可以被视为一个二元组，其中包含了本地意义的标识。</p>
<p><strong>二元组</strong>：源端IP，源端Port；</p>
</blockquote>
<p>基于TCP socket和UDP socket的区别，TCP应用发送数据时要包含socket，数据内容；而UDP应用发送数据时要包含socket，数据内容，目标IP和Port；</p>
<h4 id="（3）如何使用传输层提供的服务实现应用">（3）如何使用传输层提供的服务实现应用</h4>
<p>应用层协议：定义了运行在不同端系统上的应用进程如何相互交换报文；</p>
<p>应用层协议仅仅只是应用的一个组成部分，例如Web应用包括：HTTP协议，web客户端，web服务器，HTML；</p>
<p><strong>描述传输层所提供的服务</strong>：可靠性、流量控制、拥塞控制等</p>
<p><strong>TCP服务</strong>：可靠的传输服务，流量控制，拥塞控制，面向连接；</p>
<p><strong>无法提供的服务</strong>：时间保证，最小吞出保证和安全性；</p>
<p><strong>UDP服务</strong>：不可靠数据传输；</p>
<p><strong>无法提供的服务</strong>：可靠，流量控制，拥塞控制，时间，带宽保证，建立连接，安全性；</p>
<p><strong>UDP存在的必要性</strong>：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>能够区分不同的进程（IP服务没有这个功能）；</p>
</li>
<li class="lvl-2">
<p>无需建立连接，省去了建立连接的时间；</p>
</li>
<li class="lvl-2">
<p>不做可靠性的工作，例如检错重发；</p>
</li>
<li class="lvl-2">
<p>没有拥塞控制和流量控制，应用能够按照设定的速度发送数据</p>
</li>
</ul>
<blockquote>
<p><strong>安全性问题</strong>：</p>
<p>TCP和UDP都没有加密，明文通过互联网传输；</p>
<p><strong>SSL（Secure Sockets Layer）</strong> 在TCP上面实现，提供加密的TCP连接；</p>
<p>SSL在应用层，应用采用SSL库，SSL库使用TCP通信；</p>
<p>因此传输层本身并不提供安全性服务，这些安全性服务通常通过更高层的协议来实现。</p>
</blockquote>
<h2 id="二、Web与HTTP">二、Web与HTTP</h2>
<h3 id="1-专业术语">1.专业术语</h3>
<p><strong>Web页</strong>：由一些对象组成，对象可以是HTML文件、JPEG图像、Java小程序、声音剪辑文件等。<br>
Web页含有一个基本的HTML文件，该基本HTML文件又包含若干对象的引用（链接），通过URL对每个对象进行引用：访问协议，用户名，口令字，端口等；<br>
<strong>URL格式</strong>:</p>
<img src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/26/674577f1cfda4.png" alt="1" style="zoom:67%;" />
<h3 id="2-HTTP概括">2.HTTP概括</h3>
<p>Web的<strong>应用层协议</strong>是<strong>超文本传输协议（HyperText Transfer Protocol，HTTP）</strong>，它是Web的核心，在RFC 1945（HTTP 1.0）和RFC 2616（HTTP 1.1）中进行定义。</p>
<p>HTTP由两个程序实现：客户程序，服务器程序；</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>客户：请求、接受和显示Web对象的浏览器</p>
</li>
<li class="lvl-2">
<p>服务器：对请求进行相应，发送对象的Web服务器</p>
</li>
</ul>
<p><strong>HTTP使用TCP作为它的支撑运输协议（而不是UDP）</strong>：</p>
<p>HTTP客户发起一个与服务器的TCP连接（建立套接字，端口号为80），一旦连接建立，该浏览器和服务器进程就可以通过套接字接口访问TCP。</p>
<p><strong>HTTP是无状态协议（stateless protocol）</strong>：HTTP服务器不会保存关于客户的任何信息</p>
<p>例如某个特定的客户在几秒内两次请求同一个对象，服务器不会因为刚刚为该客户提供了该对象就不再做出反应，而是重新发送该对象，因为它并不会储存任何关于客户的信息。</p>
<p>无状态服务器通常能够支持更多的客户端，因为它们不需要为每个客户端维护状态信息，可以更高效地处理并发请求。相比之下，有状态协议需要维护历史信息，这可能会增加服务器的负担，并限制服务器能够同时处理的客户端数量。</p>
<h3 id="3-HTTP连接">3.HTTP连接</h3>
<h4 id="（1）非持久HTTP">（1）非持久HTTP</h4>
<ul class="lvl-0">
<li class="lvl-2">
<p>最多只有一个对象在TCP连接上发送；</p>
</li>
<li class="lvl-2">
<p>下载多个对象需要多个TCP连接；</p>
</li>
<li class="lvl-2">
<p>HTTP 1.0使用非持久连接；</p>
</li>
</ul>
<img src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/26/674578102043f.png" alt="2" style="zoom:67%;" />
<img src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/26/6745781caa3ba.png" alt="3" style="zoom:67%;" />
<p><strong>响应时间模型</strong></p>
<p><strong>往返时间RTT（round-trip time）</strong>：一个小的分组从客户端到服务器，再回到客户端的时间（忽略传输时间，注意此处传输时间和传播时间的区别）</p>
<p><strong>响应时间</strong>：一个RTT用来发起TCP连接，一个RTT用来HTTP请求并等待HTTP相应，文件传输时间（文件的传输时间不可忽略）。共计2RTT+文件传输时间。</p>
<p>模型图如下：</p>
<img src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/26/6745783895cc1.png" alt="4" style="zoom:67%;" />
<h4 id="（2）持久HTTP">（2）持久HTTP</h4>
<ul class="lvl-0">
<li class="lvl-2">
<p>多个对象可以在一个（在客户端和服务器之间的）TCP连接上传输；</p>
</li>
<li class="lvl-2">
<p>HTTP 1.1默认使用持久连接</p>
</li>
</ul>
<p><strong>非持久HTTP的缺点</strong>：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>每个对象要2个RTT；</p>
</li>
<li class="lvl-2">
<p>操作系统必须为每个TCP连接都分配资源；</p>
</li>
<li class="lvl-2">
<p>浏览器通常会通过并行打开多个TCP连接来获取页面中引用的多个对象，增加网络负载和服务器负担；</p>
</li>
</ul>
<p><strong>持久HTTP</strong>：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>服务器在发送响应后，仍保持TCP连接；</p>
</li>
<li class="lvl-2">
<p>在相同客户端和服务器之间的后续请求和响应报文通过相同的连接进行传送；</p>
</li>
<li class="lvl-2">
<p>客户端在遇到一个引用对象的时候，就可以尽快发送该对象的请求；</p>
</li>
</ul>
<h4 id="（3）持久HTTP又分为非流水方式和流水方式">（3）持久HTTP又分为非流水方式和流水方式</h4>
<p><strong>非流水方式的持久HTTP</strong>：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>客户端只能在收到前一个响应后才能发出新的请求；</p>
</li>
<li class="lvl-2">
<p>每一个引用对象花费一个RTT；</p>
</li>
</ul>
<p><strong>流水方式的持久HTTP</strong>：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>HTTP 1.1的默认模式；</p>
</li>
<li class="lvl-2">
<p>客户端遇到一个引用对象就立即产生一个请求（不必等待前一个的响应）；</p>
</li>
<li class="lvl-2">
<p>所有引用对象只花费一个RTT是可能的；</p>
</li>
</ul>
<h3 id="4-HTTP报文格式">4.HTTP报文格式</h3>
<h4 id="（1）HTTP请求报文">（1）HTTP请求报文</h4>
<img src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/26/6745784b75db4.png" alt="5" style="zoom:67%;" />
<p>以上方请求报文为例，报文由普通的ASCII文本书写，可以直接阅读；该报文有5行，每一行由一个回车和换行符结束，最后一行再附加一个回车换行符。实际上一个请求报文可以有更多的行或者至少为一行。</p>
<p>HTTP请求报文的第一行叫做<strong>请求行（request line）</strong>，其后继的行叫做<strong>首部行（header line）</strong>；</p>
<p><strong>请求行</strong>有三个字段：方法字段、URL字段和HTTP版本字段；</p>
<p>方法字段可以取几种不同的值：GET（请求）、POST（提交）、HEAD（只请求头部）等；</p>
<p>下面分析<strong>首部行</strong>的具体内容：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>Host: www. someschool.edu 指明了对象所在的主机；</p>
</li>
<li class="lvl-2">
<p>User-agent: Mozilla/4.0 用来指明用户代理，即向服务器发送请求的浏览器的类型；</p>
</li>
<li class="lvl-2">
<p>Connection: close 该浏览器告诉服务器不要麻烦地使用持续连接，要求服务器发送完被请求的对象后就关闭连接；</p>
</li>
<li class="lvl-2">
<p>Accept-language: fr 表示用户想得到该对象的法语版本（如果服务器有这样的对象的话），否则，服务器应当发送它的默认版本；</p>
</li>
</ul>
<p><strong>HTTP请求报文通用格式</strong>：</p>
<img src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/26/67457857304ca.png" alt="6" style="zoom:67%;" />
<p>我们发现，通用格式在首部行（和附加的回车和换行）后有一个<strong>实体体（entity body）</strong> ，使用GET方法时实体体为空，而使用POST方法时才能使用该实体体；</p>
<p><strong>提交表单输入</strong></p>
<p>用户提交表单时，HTTP客户常常使用<strong>POST方法</strong>，例如当用户向搜索引擎提供搜索关键词时。使用POST报文时，用户仍可以向服务器请求一个Web页面，但Web页面的特定内容依赖于用户在表单字段中输入的内容。如果方法字段的值为POST时，则实体体中包含的就是用户在表单字段中的输入值；</p>
<p>实际上，HTML表单经常使用<strong>GET方法</strong>，并在（表单字段中）所请求的URL中包括输入的数据。例如一个表单使用GET方法，它有两个字段，分别填写的是“monkeys”和“bananas”，这样，该URL结果为www.somesite.com/animalsearch?monkeys&amp;banana。通过这样的URL，浏览器可以将表单数据作为查询参数附加在URL中，然后将整个URL发送给服务器进行处理。服务器可以解析URL中的查询参数，并据此执行相应的操作。再比如http://www. baidu.com/s?wd=xx+yy+zzz&amp;cl=3， 表示携带的参数为wd和cl，参数的值分别为xx+yy+zzz和3。</p>
<p>在URL的查询字符串中，有时候会出现只有参数名而没有参数值的情况。这种情况通常发生在一些特定的场景下，例如在某些API设计中或者特定的查询需求中。在这种情况下，参数名本身就是起到一种标识或者开关的作用，而不需要具体的参数值。</p>
<p><strong>方法类型</strong>：</p>
<p><strong>HTTP 1.0</strong>：GET、POST、HEAD</p>
<p><strong>HTTP 1.1</strong>：GET、POST、HEAD、PUT（将实体主体中的文件上载到URL字段规定的路径）、DELETE（删除URL字段规定的文件）</p>
<h4 id="（2）HTTP响应报文">（2）HTTP响应报文</h4>
<img src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/26/67457864edf6e.png" alt="7" style="zoom:67%;" />
<p>该响应报文分为三个部分：一个初始<strong>状态行（status line）</strong>，6个<strong>首部行（header line）</strong>，然后是<strong>实体体（entity body）</strong>。</p>
<p><strong>实体体部分</strong>是报文的主要部分，即它包含了所请求对象本身。</p>
<p><strong>状态行</strong>有3个字段：协议版本字段、状态码和响应状态信息。</p>
<blockquote>
<p><strong>HTTP响应状态码</strong>：</p>
<ul class="lvl-1">
<li class="lvl-2"><strong>200 OK</strong>：请求成功，请求对象包含在响应报文的后续部分</li>
<li class="lvl-2"><strong>301 Moved Permanently</strong>：请求的对象已经被永久转移了，新的URL在响应报文的Location：首部行中指定。客户端软件自动用新的URL去获取对象</li>
<li class="lvl-2"><strong>400 Bad Request</strong>：一个通用的差错代码，表示该请求不能被服务器解读</li>
<li class="lvl-2"><strong>404 Not Found</strong>：请求的文档在该服务上没有找到</li>
<li class="lvl-2"><strong>505 HTTP Version Not Supported</strong>：服务不支持请求报文使用的HTTP协议版本</li>
</ul>
</blockquote>
<h3 id="5-用户与服务器的交互：cookie">5.用户与服务器的交互：cookie</h3>
<p>HTTP服务器是无状态的，当Web站点希望能够识别用户，从而对用户的访问进行限制，或者是为了能够为用户提供个性化内容时，需要借助<strong>cookie</strong>。<strong>cookie</strong>在[RFC 6265]中定义，它允许站点对用户进行跟踪。</p>
<p><strong>cookie技术有4个组件</strong>：</p>
<p><strong>（1）HTTP响应报文中的Cookie首部行</strong>：当服务器向客户端发送HTTP响应时，可以通过在响应报文的头部添加Set-Cookie首部行来设置Cookie。这样客户端（通常是浏览器）会接收并存储这些Cookie，以便在后续的请求中发送回服务器。</p>
<p><strong>（2）HTTP请求报文中的Cookie首部行</strong>：当客户端向服务器发送HTTP请求时，可以在请求报文的头部添加Cookie首部行，将之前存储的Cookie信息发送给服务器。这样服务器可以根据这些Cookie来识别用户、保持会话状态等。</p>
<p><strong>（3）用户端系统中保留的Cookie文件</strong>：在用户端系统（通常是浏览器）中，会保存一个Cookie文件，其中包含了用户与各个网站之间的Cookie信息。浏览器会根据服务器发送的Set-Cookie首部行来管理这些Cookie，包括存储、发送和更新等操作。</p>
<p><strong>（4）Web站点的后端数据库</strong>：Web站点的后端数据库通常不直接存储Cookie信息，但服务器会根据接收到的Cookie信息来处理用户请求，可能会将一些与用户相关的数据存储在后端数据库中，但这些数据通常与Cookie本身并不直接相关。</p>
<p><strong>具体事例</strong>：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>Susan总是用同一个PC使用Internet Explore上网；</p>
</li>
<li class="lvl-2">
<p>她第一次访问了一个使用了Cookie的电子商务网站；</p>
</li>
<li class="lvl-2">
<p>当最初的HTTP请求到达服务器时，该Web站点产生一个唯一的ID，并以此作为索引在它的后端数据库中产生一个项；</p>
</li>
<li class="lvl-2">
<p>服务器在HTTP响应中返回一个名为&quot;Set-Cookie&quot;的头部字段，其中包含了刚生成的唯一ID或其他相关信息；</p>
</li>
<li class="lvl-2">
<p>浏览器收到响应后，会将这个Cookie保存在Susan的PC上；</p>
</li>
<li class="lvl-2">
<p>随后，Susan在网站上浏览商品、添加商品到购物车、填写订单等操作；</p>
</li>
<li class="lvl-2">
<p>这些操作通过HTTP请求发送到服务器，服务器通过Cookie中的唯一ID识别Susan，并根据数据库中存储的信息处理她的请求；</p>
</li>
<li class="lvl-2">
<p>过Cookie，服务器能够跟踪Susan的会话状态，保持她的登录状态，管理购物车内容，并提供个性化体验；</p>
</li>
<li class="lvl-2">
<p>Susan的持续交互使得服务器不断更新后端数据库中与她相关的信息，以确保她的会话状态和数据保持同步；</p>
</li>
</ul>
<p>Cookie在整个过程中起到关键作用，帮助服务器识别和管理Susan的会话状态，实现个性化服务和持续登录功能。</p>
<p>Cookies允许站点知道许多关于用户的信息，可能会导致一些<strong>隐私问题</strong>。</p>
<h3 id="6-Web缓存">6.Web缓存</h3>
<p><strong>Web缓存（Web cache）即下图的代理服务器（proxy server）。</strong></p>
<img src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/26/674578735b573.png" alt="8" style="zoom: 80%;" />
<blockquote>
<p><strong>注意</strong>：准确的来说，代理服务器可以包含Web缓存功能，但Web缓存不仅仅是代理服务器的一部分。两者不应该是等同的关系。</p>
</blockquote>
<p><strong>目标</strong>：不访问<strong>原始服务器</strong>，就满足客户的请求</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>配置用户的浏览器，使得用户的所有HTTP请求首先指向Web缓存器；</p>
</li>
<li class="lvl-2">
<p>浏览器创建一个到Web缓存器的TCP连接，并向其发送HTTP请求;</p>
</li>
<li class="lvl-2">
<p>若请求对象在缓存中，缓存直接返回对象；</p>
</li>
<li class="lvl-2">
<p>如对象不在缓存，缓存请求原始服务器，获得请求对象后，在本地存储空间存储一份副本，并向客户端的浏览器用HTTP响应报文发送该副本（通过现有的客户浏览器和Web缓存器之间的TCP连接）</p>
</li>
</ul>
<blockquote>
<p><strong>注意</strong>：<strong>Web缓存器既是服务器又是客户</strong>。通常缓存是由ISP安装(大学、公司、居民区ISP)。</p>
</blockquote>
<p><strong>Web缓存的优点</strong>：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>降低客户端的请求响应时间；</p>
</li>
<li class="lvl-2">
<p>可以大大减少一个机构内部网络与Internent接入链路上的流量；</p>
</li>
<li class="lvl-2">
<p>互联网大量采用了缓存：可以使较弱的ICP也能够有效提供内容；</p>
</li>
<li class="lvl-2">
<p>相比于增加接入链路带宽，使用web缓存减少响应时间的方式更廉价；</p>
</li>
</ul>
<h3 id="7-条件GET方法">7.条件GET方法</h3>
<p>高速缓存减少响应时间的同时也引入了一个问题：存放在缓存器中的副本可能是陈旧的，即原对象可能已经被更新修改了。而HTTP协议有一种机制，允许缓存器证实它的对象是最新的，这种机制就是<strong>条件GET（conditional GET）方法</strong>。</p>
<p><strong>目标</strong>：如果缓存器中的对象拷贝是最新的，就不要发送对象</p>
<p><strong>缓存器</strong>: 在HTTP请求中指定缓存拷贝的日期<strong>If-modified-since: date</strong>（该条件GET报文告诉服务器，仅当自指定日期之后该对象被修改过，才发送该对象）。</p>
<p><strong>服务器</strong>: 如果对象没有修改，则响应报文没包含对象: <strong>HTTP/1.0 304 Not Modified</strong>（表示对象没有被修改，缓存器可以向请求的浏览器转发其缓存的该对象副本）。</p>
<h2 id="三、FTP">三、FTP</h2>
<p><strong>FTP（File Transfer Protocol，文件传输协议）</strong> 允许用户通过客户端和服务器之间的连接来传输文件，常见操作有上传、下载、创建、删除和重命名文件等。</p>
<p><strong>客户端-服务器模型</strong>：FTP遵循客户端-服务器模型。客户端是发送请求的一方，而服务器则响应这些请求并提供文件服务。</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>客户端：发送请求的一方</p>
</li>
<li class="lvl-2">
<p>服务器：响应这些请求并提供文件服务</p>
</li>
</ul>
<p>FTP定义在RFC 959，FTP服务器端口号为21；</p>
<p><strong>控制连接和数据连接</strong>：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>客户端通过21号端口与服务器建立控制连接；</p>
</li>
<li class="lvl-2">
<p>客户端通过控制连接发送命令（如上传、下载文件）</p>
</li>
<li class="lvl-2">
<p>根据命令，服务器通过20号端口与客户端建立连接（注意是服务器主动建立）</p>
</li>
<li class="lvl-2">
<p>数据连接用于传输文件内容；</p>
</li>
<li class="lvl-2">
<p>传输完成后，数据连接关闭，但控制连接保持打开；</p>
</li>
</ul>
<p>控制连接：<strong>带外（out of band）传送</strong>；带外传送是一种在控制连接中使用独立通道传输控制信息的机制，以确保控制信息和数据信息在传输过程中不会互相干扰。</p>
<p>FTP是一种<strong>有状态</strong>的协议，服务器会维护用户的状态信息：当前路径、用户账户及控制连接的对应。</p>
<p>FTP中的<strong>命令</strong>和<strong>响应</strong>都是以<strong>ASCII文本</strong>方式传输的。</p>
<h2 id="四、Email">四、Email</h2>
<h3 id="1-组成">1.组成</h3>
<p>因特网电子邮件系统有三个主要组成部分：<strong>用户代理（user agent）</strong>、<strong>邮件服务器（mail server）<strong>和</strong>简单邮件传输协议（Simple Mail Transfer Protocol，SMTP）</strong></p>
<p><strong>用户代理</strong>，又名“邮件阅读器”，允许用户阅读、回复、转发、保存和撰写报文。例如微软的Outlook和Apple Mail。</p>
<p><strong>邮件服务器</strong>，形成了电子邮件体系的核心，每个接收方在其中的某个邮件服务器上都有一个邮箱（mailbox），管理和维护着发给其的报文。（邮件从发送方的用户代理开始，传输到发送方的邮件服务器，再传输到接收方的邮件服务器，然后在这里被分发到接收方的邮箱中）</p>
<p><strong>简单邮件传输协议</strong>：邮件服务器之间借助SMTP发送email报文，它定义了邮件服务器之间交换电子邮件的规则和格式。</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>SMTP使用TCP在客户端和服务器之间传送报文，端口号为25；</p>
</li>
<li class="lvl-2">
<p>其发出的命令和响应得到的状态码与状态信息都是以ASCII码的形式；</p>
</li>
<li class="lvl-2">
<p>SMTP要求报文（首部和主体）必须都是<strong>7位的ASCII编码</strong>；</p>
</li>
<li class="lvl-2">
<p>传输的三个阶段：握手、传输报文、关闭；</p>
</li>
<li class="lvl-2">
<p>SMTP使用持久连接，一个连接上可发送多个邮件，邮件发送完才会关闭；</p>
</li>
</ul>
<h3 id="2-邮件发送过程">2.邮件发送过程</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p>邮件从发送方A的用户代理开始，传输到发送方A的邮件服务器，邮件放在报文队列中（不会立即发送，而是<strong>定时统一</strong>进行发送）</p>
</li>
<li class="lvl-2">
<p>SMPT的客户端打开到接收方B邮件服务器的TCP连接，通过TCP连接发送邮件（可以发现这里TCP的连接是由发送方的机器发起的）</p>
</li>
<li class="lvl-2">
<p>接收方B的邮件服务器将邮件放到B的邮箱中，B调用他的用户代理来阅读邮件;</p>
</li>
</ul>
<h3 id="3-SMTP与HTTP的对比">3.SMTP与HTTP的对比</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p>二者都采用请求（命令）-响应模型，且都是以ASCII码的形式；</p>
</li>
<li class="lvl-2">
<p>SMTP基本上是一个<strong>推协议（push protocol）</strong>，即发送邮件服务器把文件推向接收邮件服务器；HTTP主要是一个<strong>拉协议（pull protocol）</strong>，即用户从服务器中拉取信息</p>
</li>
<li class="lvl-2">
<p>SMTP是<strong>面向文本</strong>的协议，用于传输电子邮件内容和元数据（描述数据的数据，如邮件的主题、大小、日期等）；HTTP是<strong>面向超文本</strong>的协议，用于传输网页内容、图片、视频和其他资源；</p>
</li>
<li class="lvl-2">
<p>HTTP每个对象封装在各自的报文中，SMTP多个（邮件）对象可以包含在一个（邮件）报文中；</p>
</li>
<li class="lvl-2">
<p>SMTP是一种<strong>无状态协议</strong>，每个邮件传输都是独立的，没有保持状态；而HTTP是一种<strong>有状态协议</strong>，通过使用cookie等机制来维护客户端和服务器之间的状态;（HTTP的传输是在一条TCP连接上进行的。HTTP初始设计是无状态的，通过cookie的作用可以把它变成有状态的协议）</p>
</li>
</ul>
<h3 id="4-邮件报文格式">4.邮件报文格式</h3>
<p><strong>SMTP</strong>：交换email报文的协议;<br>
<strong>RFC 5322</strong>：规范了邮件的头部和正文的格式，包括邮件地址的表示、日期时间格式等元数据字段的使用规范。</p>
<p>一个典型的电子邮件报文的格式：</p>
<p><img src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/26/674578827d53b.png" alt="9"></p>
<p><strong>空白行</strong>上方是<strong>报文首部</strong>，下方是<strong>报文主体</strong>，两者由空白行隔开；首部行和报文主体只能是ASCII码字符；每个首部必须含有一个From：首部行和To：首部行，其余可选；首部行不同于SMTP命令，是邮件报文自身的一部分；</p>
<h3 id="5-邮件访问协议">5.邮件访问协议</h3>
<h4 id="（1）邮件访问协议与SMTP的区别">（1）邮件访问协议与SMTP的区别</h4>
<img src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/26/6745788b9e84b.png" alt="10" style="zoom:67%;" />
<p>SMTP：传送到接收方的邮件服务器（推操作）邮件访问协议：从服务器访问邮件（拉操作）</p>
<p><strong>常见的邮件访问协议</strong>：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>第三版的邮局协议（Post Office Protocol——Version 3，POP 3）</strong></p>
</li>
<li class="lvl-2">
<p><strong>因特网邮件访问协议（Internet Mail Access protocol，IMAP）</strong></p>
</li>
<li class="lvl-2">
<p><strong>HTTP</strong></p>
</li>
</ul>
<h4 id="（2）POP3协议">（2）POP3协议</h4>
<p>POP3协议按照三个阶段进行工作：<strong>特许（authorization）</strong>、<strong>事务处理</strong>以及<strong>更新</strong>。</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>特许阶段：用户代理发送（以明文形式）用户名和口令以鉴别用户；</p>
</li>
<li class="lvl-2">
<p>事务处理阶段：用户代理取回报文；该阶段还可以进行：对报文做删除标记、取消报文删除标记以及获取邮件的统计信息；</p>
</li>
<li class="lvl-2">
<p>更新阶段：出现在客户发送了quit命令之后，目的是结束该POP3会话；这时，该邮件服务器删除哪些被标记为删除的报文；</p>
</li>
</ul>
<p>在POP3处理过程中，用户代理发送一些命令，服务器对每个命令作答，回答有两种：<strong>+OK</strong>（有时还跟有服务器到客户端的数据），被服务器用来指示前面的命令是正常的；<strong>-ERR</strong>，被服务器用来指示前面的命令出现了某些差错；</p>
<p><strong>常见指令</strong>:</p>
<img src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/26/674578972fdde.png" alt="11" style="zoom: 80%;" />
<p>POP3协议支持两种主要模式“<strong>下载并删除模式</strong>”和“<strong>下载并保留模式</strong>”：前者用户通过POP3从邮件服务器下载邮件后，邮件会被标记为已删除，并在会话结束后从服务器上删除；后者用户通过POP3从服务器下载邮件后，邮件不会被立即删除，而是保留在服务器上，允许用户在多个设备上访问相同的邮件，或者在需要时保留邮件的备份。</p>
<p>POP3在会话中是<strong>无状态</strong>的，不支持远程目录维护，只能<strong>本地管理文件</strong>；</p>
<h4 id="（3）IMAP">（3）IMAP</h4>
<p><strong>IMAP服务器将每个报文与一个文件夹联系起来</strong>：当报文第一次到达服务器时，它与收件人的INBOX文件夹相关联。收件人则能够把邮件转移到一个新的、用户创建的文件夹中，阅读邮件、删除邮件等。</p>
<p>IMAP在会话过程中保留用户状态，是<strong>有状态</strong>的，能够<strong>远程管理文件夹</strong>；</p>
<h2 id="五、DNS">五、DNS</h2>
<h3 id="1-DNS提供的服务">1.DNS提供的服务</h3>
<p><strong>主机名（hostname）</strong>：主机的一种标识方法，如www.facebook.com；</p>
<p><strong>IP地址</strong>：由四个字节组成，并有着严格的层次结构。其中的每个自检都被句点分割，表示了0~255的十进制数字。</p>
<p><strong>DNS（Domain Name System，DNS）的服务</strong>：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>域名解析（主要任务）</strong>，即将人类能够理解的域名转换为计算机可理解的IP地址（通常由其他应用层协议使用，如HTTP，SMTP，FTP）。此外，将一个域名解析为对应的IP地址称为<strong>正向解析</strong>，将一个IP地址解析为对应的域名称为<strong>逆向解析</strong>，这两种服务DNS均可提供。</p>
</li>
<li class="lvl-2">
<p><strong>负载均衡（Load Distribution）</strong>，即根据服务器的负载情况将用户请求分发到不同的服务器，以确保流量分布均衡；</p>
</li>
<li class="lvl-2">
<p><strong>主机别名（host aliasing）</strong>，一些复杂的主机名有时会有一些便于记忆的别名，在这种情况下，其原本的复杂名字也被称为<strong>规范主机名（canonical hostname）</strong>。应用程序可以调用DNS来获取主机别名的规范主机名及主机的IP地址；</p>
</li>
<li class="lvl-2">
<p><strong>邮件服务器别名（mail server aliasing）</strong>，邮件服务器别名到正规名字的转换；</p>
</li>
</ul>
<p><strong>DNS是</strong>：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>一个由分层的DNS服务器（DNS server）实现的分布式数据库；</p>
</li>
<li class="lvl-2">
<p>一个使得主机能够查询分布式数据库的<strong>应用层协议</strong>；</p>
</li>
<li class="lvl-2">
<p>运行在UDP之上端口为53的应用服务；</p>
</li>
</ul>
<h3 id="2-DNS层次结构">2.DNS层次结构</h3>
<p><strong>DNS域名结构</strong>：DNS采用层次树状结构的命名方法。Internet跟被划为几百个顶级域（top lever domains），每个（子）域下面可划分为若干子域（subdomains），树叶是主机。</p>
<p><strong>根域名服务器</strong>：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>共有13个根域名服务器，全球分布，这种分布式架构有助于提高DNS系统的稳定性；</p>
</li>
<li class="lvl-2">
<p>根域名服务器存储了所有顶级域（TLD）服务器的地址信息（每一个根域名服务器并不存储全部顶级域服务器的地址信息，而是只存储一部分TLD服务器的地址信息）</p>
</li>
</ul>
<p><strong>顶级域（TLD）服务器</strong>：负责顶级域名（如com，org，net等）和所有国家级的顶级域名（如cn，uk，jp等）</p>
<p><strong>权威DNS服务器</strong>：组织机构的DNS服务器，提供组织机构服务器（如Web和mail）可访问的主机和IP之间的映射。</p>
<p>根域名服务器、顶级域（TLD）服务器、权威DNS服务器都属于DNS的层次结构中，但有一类重要的DNS服务器，<strong>本地DNS服务器（local DNS server）</strong>。一个本地DNS服务器并不属于该服务器的层次结构，每一个ISP都有一台本地DNS服务器（也叫默认名字服务器）。当一个主机发起DNS查询时，查询被送到其本地DNS服务器，起着代理的作用，将查询转发到层次结构中。</p>
<p><strong>域名（Domain Name）</strong>：从本域往上，直到树根，中间使用句点间隔不同级别。域的域名可用于表示一个域，主机的域名表示一个域上的一个主机。</p>
<p><strong>域名的管理</strong>：一个域管理其下的子域，例如.cn被划分为edu.cn，com.cn。创建一个新的域，必须征得它所属域的同意。</p>
<p><strong>域与物理网络无关</strong>：域的划分是逻辑的，而不是物理的。域名系统中的域名与物理网络之间并没有直接的关联。域名系统提供了一种抽象的命名机制，使得用户可以通过易记的域名访问互联网资源，而物理网络则负责实际的数据传输和通信。一个域的主机可以不再一个网络，一个网络的主机不一定在一个域。</p>
<h3 id="3-域名服务器">3.域名服务器</h3>
<p><strong>单个域名服务器的问题</strong>：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>单点故障</strong>：可靠性问题</p>
</li>
<li class="lvl-2">
<p><strong>通信容量</strong>：扩展性问题</p>
</li>
<li class="lvl-2">
<p><strong>远距离的集中式数据库</strong>：远距离时间延迟问题</p>
</li>
<li class="lvl-2">
<p><strong>维护</strong>：集中数据库难以维护</p>
</li>
</ul>
<p><strong>区域（zone）</strong>：区域的划分由管理者自己决定，将DNS域名空间划分为互不相交的区域，每一个区域都是树的一部分。</p>
<p><strong>域名服务器</strong>：每一个区域都有一个域名服务器，维护着它所管辖区域的权威信息，域名服务器允许被放置在区域之外，以保障可靠性。</p>
<h3 id="4-DNS记录和报文">4.DNS记录和报文</h3>
<p>共同实现DNS分布式数据库的所有DNS服务器存储了<strong>资源记录（Resource Record，RR）</strong>，RR提供了主机名到IP地址的映射。</p>
<p>资源记录是一个包含了下列字段的四元组：（Name，Value，Type，TTL）</p>
<p><strong>TTL</strong>是该记录的生存时间，它决定了资源记录应当从缓存中删除的时间；</p>
<p><strong>Name和Value的值取决于Type</strong>：</p>
<img src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/26/674578aa6a587.png" alt="12" style="zoom:67%;" />
<h3 id="5-域名解析过程">5.域名解析过程</h3>
<h4 id="（1）用户输入域名">（1）用户输入域名</h4>
<p>当用户在浏览器中输入一个域名（如www.example.com），浏览器会首先检查本地缓存（如浏览器缓存或操作系统的DNS缓存）中是否有该域名对应的IP地址。</p>
<h4 id="（2）本地缓存检查">（2）本地缓存检查</h4>
<p>如果在本地缓存中找到对应的IP地址，浏览器会直接使用该IP地址与目标服务器建立连接。如果未找到，浏览器会向操作系统的DNS解析器发送请求。</p>
<h4 id="（3）查询本地域名服务器">（3）查询本地域名服务器</h4>
<p>DNS解析器会首先查询用户所在网络的本地域名服务器（通常由ISP提供），以查看是否在其缓存中存在对应的IP地址。如果找到，返回结果；如果未找到，则继续向上查询。</p>
<h4 id="（4）递归查询和迭代查询">（4）递归查询和迭代查询</h4>
<p>DNS查询方式分为递归查询和迭代查询两种。</p>
<p><strong>递归查询</strong>：请求方只发起一次DNS查询，如果接收方查找不到对应的映射地址，则接收方将以请求者的身份发起新的DNS查询，递归地执行下去，直至遇到能够处理请求的接受方后，将域名映射结果依次返回给最初的请求方。</p>
<img src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/26/674578b5382f0.png" alt="13" style="zoom:50%;" />
<p><strong>迭代查询</strong>：请求方发出DNS查询后，若接收方查找不到对应的映射地址，则接收方将指示请求方寻找其他接受方式获取查询结果，请求方则根据指示发送新的请求，如此反复，直到获取最终结果。</p>
<img src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/26/674578bf9d5bc.png" alt="14" style="zoom:50%;" />
<p><strong>区别</strong>：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>递归是自己调用自己，每次把问题规模缩小；迭代是自己执行很多次，每次都更接近目标。</p>
</li>
<li class="lvl-2">
<p>递归查询下，根域名服务器的压力较大。主机向本地域名服务器查询常使用递归查询，为了减少根域名服务器的压力，域名服务器之间的查询常使用迭代查询方式。</p>
</li>
</ul>
<p><strong>（5）根域名服务器查询</strong><br>
本地域名服务器首先向根域名服务器发送查询请求。根域名服务器不保存具体的域名和IP地址的对应关系，但它知道顶级域名服务器（如 .com、.org）的地址，因此会返回顶级域名服务器的地址。（本地域名服务器与其他域名服务器之间通过迭代方式进行查询。）</p>
<p><strong>（6）顶级域名服务器（TLD DNS）查询</strong><br>
本地域名服务器根据根域名服务器提供的地址，向相应的顶级域名服务器发送查询请求。TLD DNS服务器会返回该域名对应的权威DNS服务器地址。</p>
<p><strong>（7）权威DNS服务器查询</strong><br>
最后，本地域名服务器向权威DNS服务器查询，该服务器保存着具体的域名和IP地址的对应关系。权威DNS服务器返回正确的IP地址。</p>
<p><strong>（8）返回结果</strong><br>
本地域名服务器将IP地址返回给DNS解析器，DNS解析器将结果缓存并返回给浏览器。</p>
<p><strong>（9）建立连接</strong><br>
浏览器使用该IP地址与目标服务器建立连接，并开始加载网站内容。</p>
<h3 id="6-DNS缓存">6.DNS缓存</h3>
<p>一旦名字服务器学到了一个映射，就会将该映射缓存起来，以备下次查询。经过了TTL时间后（默认是两天），就会把缓存的映射删除。</p>
<blockquote>
<p><strong>注</strong>：缓存是为了提高性能与效率，删除则是为了确保数据的准确和一致性。</p>
</blockquote>
<p>根服务器的IP地址通常被缓存或预配置在本地服务器（如本地域名服务器或DNS解析器）中，这意味着本地域名服务器不需要每次都去查找根服务器的地址，而是可以直接访问这些服务器来开始域名解析过程。</p>
<h2 id="六、P2P应用">六、P2P应用</h2>
<p>P2P是建立在客户/服务器模型的基础上的，它把单个服务器的负担分摊给了若干个客户节点。</p>
<h3 id="1-文件共享">1.文件共享</h3>
<h4 id="（1）文件分割">（1）文件分割</h4>
<p>在P2P文件共享系统中，大文件通常会被分割成多个小块。这些小块可以独立于彼此进行传输，增加了文件传输的并发性和效率。</p>
<h4 id="（2）文件索引和查找">（2）文件索引和查找</h4>
<p>P2P网络中没有中央服务器来存储文件的完整列表，因此节点需要通过查询其他节点来找到文件的来源。文件的索引信息通常存储在DHT（分布式哈希表）中，或者通过洪泛机制传播。</p>
<blockquote>
<p><strong>洪泛（Flooding）</strong>：是一种网络通信中的信息传播策略，尤其在分布式网络中常见。泛洪的基本原理是将数据包从一个节点发送到所有相邻节点，这些节点在接收到数据包后，再次将其转发给它们的所有相邻节点。这个过程会一直持续，直到数据包覆盖整个网络或达到某种停止条件。</p>
</blockquote>
<h4 id="（3）块传输">（3）块传输</h4>
<p>一旦找到某个文件的提供者，下载者可以从多个提供者处并行下载文件的不同块。这不仅加快了下载速度，也减少了对单一节点的依赖，增加了文件共享的可靠性。</p>
<h4 id="（4）文件完整性验证">（4）文件完整性验证</h4>
<p>文件下载完成后，每个块的哈希值通常会被校验，以确保文件传输过程中没有出现错误或被恶意篡改。完整性验证在下载过程中也可能实时进行，以防止无效或损坏的块传输。</p>
<h4 id="（5）上传和下载平衡">（5）上传和下载平衡</h4>
<p>P2P文件共享网络通常鼓励节点上传与下载的平衡。某些系统通过信用机制或速率限制，来鼓励节点积极分享文件，否则可能会限制其下载速度。</p>
<h3 id="2-C-S模型与P2P模型两种模型下文件分发速度的比较">2.C/S模型与P2P模型两种模型下文件分发速度的比较</h3>
<p><strong>C/S模型</strong></p>
<p>发送一个拷贝文件用时：</p>
<mjx-container class="MathJax" jax="SVG" display="true" style="direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;"><svg style="overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -1.927ex;" xmlns="http://www.w3.org/2000/svg" width="3.76ex" height="4.994ex" role="img" focusable="false" viewBox="0 -1356 1662.1 2207.6" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mi" transform="translate(456.5,676)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z" style="stroke-width: 3;"/></g><g data-mml-node="msub" transform="translate(220,-686)"><g data-mml-node="mi"><path data-c="1D448" d="M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(716,-150) scale(0.707)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z" style="stroke-width: 3;"/></g></g><rect width="1422.1" height="60" x="120" y="220"/></g></g></g></svg><mjx-assistive-mml unselectable="on" display="block" style="top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mfrac><mi>F</mi><msub><mi>U</mi><mi>S</mi></msub></mfrac></math></mjx-assistive-mml></mjx-container><p>下载带宽最小的客户端的下载时间：</p>
<mjx-container class="MathJax" jax="SVG" display="true" style="direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;"><svg style="overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -1.909ex;" xmlns="http://www.w3.org/2000/svg" width="5.276ex" height="4.977ex" role="img" focusable="false" viewBox="0 -1356 2332.1 2199.8" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mi" transform="translate(791.5,676)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z" style="stroke-width: 3;"/></g><g data-mml-node="msub" transform="translate(220,-686)"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" style="stroke-width: 3;"/></g><g data-mml-node="TeXAtom" transform="translate(553,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(878,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(1223,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" style="stroke-width: 3;"/></g></g></g><rect width="2092.1" height="60" x="120" y="220"/></g></g></g></svg><mjx-assistive-mml unselectable="on" display="block" style="top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mfrac><mi>F</mi><msub><mi>d</mi><mrow data-mjx-texclass="ORD"><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></mfrac></math></mjx-assistive-mml></mjx-container><p>则，将一个F大小的文件分发给N个客户端耗时：</p>
<mjx-container class="MathJax" jax="SVG" display="true" style="direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;"><svg style="overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.148ex;" xmlns="http://www.w3.org/2000/svg" width="27.088ex" height="5.428ex" role="img" focusable="false" viewBox="0 -1449.5 11973 2399" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z" style="stroke-width: 3;"/></g><g data-mml-node="TeXAtom" transform="translate(861,-176.7) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z" style="stroke-width: 3;"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(760,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z" style="stroke-width: 3;"/></g></g><g data-mml-node="mi" transform="translate(1260,0)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z" style="stroke-width: 3;"/></g></g></g><g data-mml-node="mo" transform="translate(2535.8,0)"><path data-c="2265" d="M83 616Q83 624 89 630T99 636Q107 636 253 568T543 431T687 361Q694 356 694 346T687 331Q685 329 395 192L107 56H101Q83 58 83 76Q83 77 83 79Q82 86 98 95Q117 105 248 167Q326 204 378 228L626 346L360 472Q291 505 200 548Q112 589 98 597T83 616ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z" style="stroke-width: 3;"/></g><g data-mml-node="mo" transform="translate(3591.6,0)"><path data-c="6D" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" style="stroke-width: 3;"/><path data-c="61" d="M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z" transform="translate(833,0)" style="stroke-width: 3;"/><path data-c="78" d="M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z" transform="translate(1333,0)" style="stroke-width: 3;"/></g><g data-mml-node="mrow" transform="translate(5619.3,0)"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7B" d="M618 -943L612 -949H582L568 -943Q472 -903 411 -841T332 -703Q327 -682 327 -653T325 -350Q324 -28 323 -18Q317 24 301 61T264 124T221 171T179 205T147 225T132 234Q130 238 130 250Q130 255 130 258T131 264T132 267T134 269T139 272T144 275Q207 308 256 367Q310 436 323 519Q324 529 325 851Q326 1124 326 1154T332 1205Q369 1358 566 1443L582 1450H612L618 1444V1429Q618 1413 616 1411L608 1406Q599 1402 585 1393T552 1372T515 1343T479 1305T449 1257T429 1200Q425 1180 425 1152T423 851Q422 579 422 549T416 498Q407 459 388 424T346 364T297 318T250 284T214 264T197 254L188 251L205 242Q290 200 345 138T416 3Q421 -18 421 -48T423 -349Q423 -397 423 -472Q424 -677 428 -694Q429 -697 429 -699Q434 -722 443 -743T465 -782T491 -816T519 -845T548 -868T574 -886T595 -899T610 -908L616 -910Q618 -912 618 -928V-943Z" style="stroke-width: 3;"/></g><g data-mml-node="mfrac" transform="translate(750,0)"><g data-mml-node="mrow" transform="translate(220,676)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(888,0)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z" style="stroke-width: 3;"/></g></g><g data-mml-node="msub" transform="translate(427.5,-686)"><g data-mml-node="mi"><path data-c="1D448" d="M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(716,-150) scale(0.707)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z" style="stroke-width: 3;"/></g></g><rect width="1837" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(2827,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width: 3;"/></g><g data-mml-node="mfrac" transform="translate(3271.7,0)"><g data-mml-node="mi" transform="translate(791.5,676)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z" style="stroke-width: 3;"/></g><g data-mml-node="msub" transform="translate(220,-686)"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" style="stroke-width: 3;"/></g><g data-mml-node="TeXAtom" transform="translate(553,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(878,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(1223,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" style="stroke-width: 3;"/></g></g></g><rect width="2092.1" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(5603.7,0) translate(0 -0.5)"><path data-c="7D" d="M131 1414T131 1429T133 1447T148 1450H153H167L182 1444Q276 1404 336 1343T415 1207Q421 1184 421 1154T423 851L424 531L426 517Q434 462 460 415T518 339T571 296T608 274Q615 270 616 267T618 251Q618 241 618 238T615 232T608 227Q542 194 491 132T426 -15L424 -29L423 -350Q422 -622 422 -652T415 -706Q397 -780 337 -841T182 -943L167 -949H153Q137 -949 134 -946T131 -928Q131 -914 132 -911T144 -904Q146 -903 148 -902Q299 -820 323 -680Q324 -663 325 -349T327 -19Q355 145 541 241L561 250L541 260Q356 355 327 520Q326 537 325 850T323 1181Q315 1227 293 1267T244 1332T193 1374T151 1401T132 1413Q131 1414 131 1429Z" style="stroke-width: 3;"/></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="block" style="top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>D</mi><mrow data-mjx-texclass="ORD"><mi>C</mi><mrow data-mjx-texclass="ORD"><mo>/</mo></mrow><mi>S</mi></mrow></msub><mo>≥</mo><mo data-mjx-texclass="OP" movablelimits="true">max</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">{</mo><mfrac><mrow><mi>N</mi><mi>F</mi></mrow><msub><mi>U</mi><mi>S</mi></msub></mfrac><mo>,</mo><mfrac><mi>F</mi><msub><mi>d</mi><mrow data-mjx-texclass="ORD"><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></mfrac><mo data-mjx-texclass="CLOSE">}</mo></mrow></math></mjx-assistive-mml></mjx-container><p>可以看到大括号里的第一项随着N线性增长。</p>
<p><strong>P2P模型</strong></p>
<p>服务器至少需要上载一份完整地拷贝文件发送一个拷贝的时间：</p>
<mjx-container class="MathJax" jax="SVG" display="true" style="direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;"><svg style="overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -1.927ex;" xmlns="http://www.w3.org/2000/svg" width="3.76ex" height="4.994ex" role="img" focusable="false" viewBox="0 -1356 1662.1 2207.6" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mi" transform="translate(456.5,676)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z" style="stroke-width: 3;"/></g><g data-mml-node="msub" transform="translate(220,-686)"><g data-mml-node="mi"><path data-c="1D448" d="M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(716,-150) scale(0.707)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z" style="stroke-width: 3;"/></g></g><rect width="1422.1" height="60" x="120" y="220"/></g></g></g></svg><mjx-assistive-mml unselectable="on" display="block" style="top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mfrac><mi>F</mi><msub><mi>U</mi><mi>S</mi></msub></mfrac></math></mjx-assistive-mml></mjx-container><p>每个客户端必修下载一个拷贝下载带宽最小的客户端的下载时间：</p>
<mjx-container class="MathJax" jax="SVG" display="true" style="direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;"><svg style="overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -1.909ex;" xmlns="http://www.w3.org/2000/svg" width="5.276ex" height="4.977ex" role="img" focusable="false" viewBox="0 -1356 2332.1 2199.8" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mi" transform="translate(791.5,676)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z" style="stroke-width: 3;"/></g><g data-mml-node="msub" transform="translate(220,-686)"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" style="stroke-width: 3;"/></g><g data-mml-node="TeXAtom" transform="translate(553,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(878,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(1223,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" style="stroke-width: 3;"/></g></g></g><rect width="2092.1" height="60" x="120" y="220"/></g></g></g></svg><mjx-assistive-mml unselectable="on" display="block" style="top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mfrac><mi>F</mi><msub><mi>d</mi><mrow data-mjx-texclass="ORD"><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></mfrac></math></mjx-assistive-mml></mjx-container><p>因为除了服务器外，其他所有的peer节点也都可以上载，所以最大上载带宽是：</p>
<mjx-container class="MathJax" jax="SVG" display="true" style="direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;"><svg style="overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -1.018ex;" xmlns="http://www.w3.org/2000/svg" width="11.46ex" height="3.167ex" role="img" focusable="false" viewBox="0 -950 5065.1 1400" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D448" d="M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(716,-150) scale(0.707)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z" style="stroke-width: 3;"/></g></g><g data-mml-node="mo" transform="translate(1444.3,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" style="stroke-width: 3;"/></g><g data-mml-node="mo" transform="translate(2444.5,0)"><path data-c="2211" d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" style="stroke-width: 3;"/></g><g data-mml-node="msub" transform="translate(4055.2,0)"><g data-mml-node="mi"><path data-c="1D448" d="M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(716,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width: 3;"/></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="block" style="top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>U</mi><mi>S</mi></msub><mo>+</mo><mo data-mjx-texclass="OP">∑</mo><msub><mi>U</mi><mi>i</mi></msub></math></mjx-assistive-mml></mjx-container><p>将一个F大小的文件分发给N个客户端耗时：</p>
<mjx-container class="MathJax" jax="SVG" display="true" style="direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;"><svg style="overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.172ex;" xmlns="http://www.w3.org/2000/svg" width="38.259ex" height="5.451ex" role="img" focusable="false" viewBox="0 -1449.5 16910.7 2409.5" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z" style="stroke-width: 3;"/></g><g data-mml-node="TeXAtom" transform="translate(861,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z" style="stroke-width: 3;"/></g><g data-mml-node="mn" transform="translate(751,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(1251,0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z" style="stroke-width: 3;"/></g></g></g><g data-mml-node="mo" transform="translate(2604.4,0)"><path data-c="2265" d="M83 616Q83 624 89 630T99 636Q107 636 253 568T543 431T687 361Q694 356 694 346T687 331Q685 329 395 192L107 56H101Q83 58 83 76Q83 77 83 79Q82 86 98 95Q117 105 248 167Q326 204 378 228L626 346L360 472Q291 505 200 548Q112 589 98 597T83 616ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z" style="stroke-width: 3;"/></g><g data-mml-node="mo" transform="translate(3660.2,0)"><path data-c="6D" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" style="stroke-width: 3;"/><path data-c="61" d="M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z" transform="translate(833,0)" style="stroke-width: 3;"/><path data-c="78" d="M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z" transform="translate(1333,0)" style="stroke-width: 3;"/></g><g data-mml-node="mrow" transform="translate(5687.8,0)"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7B" d="M618 -943L612 -949H582L568 -943Q472 -903 411 -841T332 -703Q327 -682 327 -653T325 -350Q324 -28 323 -18Q317 24 301 61T264 124T221 171T179 205T147 225T132 234Q130 238 130 250Q130 255 130 258T131 264T132 267T134 269T139 272T144 275Q207 308 256 367Q310 436 323 519Q324 529 325 851Q326 1124 326 1154T332 1205Q369 1358 566 1443L582 1450H612L618 1444V1429Q618 1413 616 1411L608 1406Q599 1402 585 1393T552 1372T515 1343T479 1305T449 1257T429 1200Q425 1180 425 1152T423 851Q422 579 422 549T416 498Q407 459 388 424T346 364T297 318T250 284T214 264T197 254L188 251L205 242Q290 200 345 138T416 3Q421 -18 421 -48T423 -349Q423 -397 423 -472Q424 -677 428 -694Q429 -697 429 -699Q434 -722 443 -743T465 -782T491 -816T519 -845T548 -868T574 -886T595 -899T610 -908L616 -910Q618 -912 618 -928V-943Z" style="stroke-width: 3;"/></g><g data-mml-node="mfrac" transform="translate(750,0)"><g data-mml-node="mi" transform="translate(456.5,676)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z" style="stroke-width: 3;"/></g><g data-mml-node="msub" transform="translate(220,-686)"><g data-mml-node="mi"><path data-c="1D448" d="M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(716,-150) scale(0.707)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z" style="stroke-width: 3;"/></g></g><rect width="1422.1" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(2412.1,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width: 3;"/></g><g data-mml-node="mfrac" transform="translate(2856.8,0)"><g data-mml-node="mi" transform="translate(791.5,676)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z" style="stroke-width: 3;"/></g><g data-mml-node="msub" transform="translate(220,-686)"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" style="stroke-width: 3;"/></g><g data-mml-node="TeXAtom" transform="translate(553,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(878,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(1223,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" style="stroke-width: 3;"/></g></g></g><rect width="2092.1" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(5188.8,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width: 3;"/></g><g data-mml-node="mfrac" transform="translate(5633.5,0)"><g data-mml-node="mrow" transform="translate(1601.2,676)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(888,0)"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z" style="stroke-width: 3;"/></g></g><g data-mml-node="mrow" transform="translate(220,-710)"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width: 3;"/></g><g data-mml-node="msub" transform="translate(389,0)"><g data-mml-node="mi"><path data-c="1D448" d="M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(716,-150) scale(0.707)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z" style="stroke-width: 3;"/></g></g><g data-mml-node="mo" transform="translate(1777.8,0)"><path data-c="2211" d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z" style="stroke-width: 3;"/></g><g data-mml-node="msub" transform="translate(3000.4,0)"><g data-mml-node="mi"><path data-c="1D448" d="M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(716,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width: 3;"/></g></g><g data-mml-node="mo" transform="translate(4010.4,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width: 3;"/></g></g><rect width="4599.4" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(10472.8,0) translate(0 -0.5)"><path data-c="7D" d="M131 1414T131 1429T133 1447T148 1450H153H167L182 1444Q276 1404 336 1343T415 1207Q421 1184 421 1154T423 851L424 531L426 517Q434 462 460 415T518 339T571 296T608 274Q615 270 616 267T618 251Q618 241 618 238T615 232T608 227Q542 194 491 132T426 -15L424 -29L423 -350Q422 -622 422 -652T415 -706Q397 -780 337 -841T182 -943L167 -949H153Q137 -949 134 -946T131 -928Q131 -914 132 -911T144 -904Q146 -903 148 -902Q299 -820 323 -680Q324 -663 325 -349T327 -19Q355 145 541 241L561 250L541 260Q356 355 327 520Q326 537 325 850T323 1181Q315 1227 293 1267T244 1332T193 1374T151 1401T132 1413Q131 1414 131 1429Z" style="stroke-width: 3;"/></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="block" style="top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>D</mi><mrow data-mjx-texclass="ORD"><mi>P</mi><mn>2</mn><mi>P</mi></mrow></msub><mo>≥</mo><mo data-mjx-texclass="OP" movablelimits="true">max</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">{</mo><mfrac><mi>F</mi><msub><mi>U</mi><mi>S</mi></msub></mfrac><mo>,</mo><mfrac><mi>F</mi><msub><mi>d</mi><mrow data-mjx-texclass="ORD"><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></mfrac><mo>,</mo><mfrac><mrow><mi>N</mi><mi>F</mi></mrow><mrow><mo stretchy="false">(</mo><msub><mi>U</mi><mi>S</mi></msub><mo data-mjx-texclass="OP">∑</mo><msub><mi>U</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mfrac><mo data-mjx-texclass="CLOSE">}</mo></mrow></math></mjx-assistive-mml></mjx-container><p>可以看到分子NF随着N线性变化,但是每个peer也带了服务能力，随着peer节点的增多，分母也在变大。</p>
<p><strong>分发文件耗时D随N的变化曲线</strong>：</p>
<img src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/26/674578d0d4659.png" alt="15" style="zoom:67%;" />
<h3 id="3-C-S模型与P2P模型的区别">3.C/S模型与P2P模型的区别</h3>
<table>
<thead>
<tr>
<th style="text-align:center">网络模型</th>
<th style="text-align:center">C/S模型</th>
<th style="text-align:center">P2P模型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>基本概念</strong></td>
<td style="text-align:center">存在特定的服务器以及与服务器相连的客户端</td>
<td style="text-align:center">不区分客户端和服务器，每个节点既可充当客户端又可充当服务器</td>
</tr>
<tr>
<td style="text-align:center"><strong>网络类型</strong></td>
<td style="text-align:center">集中式网络</td>
<td style="text-align:center">分散式网络</td>
</tr>
<tr>
<td style="text-align:center"><strong>可靠性</strong></td>
<td style="text-align:center">客户端依赖于服务器，服务器故障将影响到所有客户端的功能</td>
<td style="text-align:center">存在多个提供服务的完整节点，一部分节点失效后剩余节点仍可形成完整网络，更可靠</td>
</tr>
<tr>
<td style="text-align:center"><strong>服务访问时间</strong></td>
<td style="text-align:center">多个客户端从一个服务器请求服务，所以服务访问时间长</td>
<td style="text-align:center">服务提供节点分布在网络中，所以请求节点不需要等待较长的时间</td>
</tr>
<tr>
<td style="text-align:center"><strong>费用</strong></td>
<td style="text-align:center">实施成本很高</td>
<td style="text-align:center">不需要大量的硬件来建立网络</td>
</tr>
<tr>
<td style="text-align:center"><strong>安全性</strong></td>
<td style="text-align:center">相对来说更安全</td>
<td style="text-align:center">相对来说不稳定</td>
</tr>
<tr>
<td style="text-align:center"><strong>数据存储</strong></td>
<td style="text-align:center">数据存储在一个服务器中</td>
<td style="text-align:center">每个节点保留自己的数据</td>
</tr>
<tr>
<td style="text-align:center"><strong>可扩展性</strong></td>
<td style="text-align:center">服务器能支持的客户端数量有限，扩展性不佳</td>
<td style="text-align:center">无传统服务器连接带宽的限制，可支持较多的客户端连接，扩展性较好</td>
</tr>
<tr>
<td style="text-align:center"><strong>应用场景</strong></td>
<td style="text-align:center">万维网、文件传输FTP、电子邮件等</td>
<td style="text-align:center">P2P文件共享、即时通信、加密货币等</td>
</tr>
</tbody>
</table>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>《计算机网络 自顶向下方法》笔记：第二章 应用层</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://aoxuexinghuo.github.io/2024/09/22/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E3%80%8B%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E5%BA%94%E7%94%A8%E5%B1%82/">https://aoxuexinghuo.github.io/2024/09/22/《计算机网络 自顶向下方法》笔记：第二章 应用层/</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>℡傲雪&amp;星火ぴ</h></div></div><div class="post-copyright-c"><h>发布于</h><div class="post-copyright-cc-info"><h>2024-09-22</h></div></div><div class="post-copyright-u"><h>更新于</h><div class="post-copyright-cc-info"><h>2026-01-01</h></div></div><div class="post-copyright-c"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%AC%94%E8%AE%B0/">笔记</a><a class="post-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></div><div class="post-share"><div class="social-share" data-image="https://bu.dusays.com/2024/11/27/6746dfda5a0e1.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2024/09/22/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E3%80%8B%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC%E4%B8%80%E7%AB%A0%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%92%8C%E5%9B%A0%E7%89%B9%E7%BD%91/" title="《计算机网络 自顶向下方法》笔记：第一章 计算机网络和因特网"><img class="cover" src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/27/6746e02939613.jpg" onerror="onerror=null;src='https://bu.dusays.com/2024/11/28/674845666d85e.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">《计算机网络 自顶向下方法》笔记：第一章 计算机网络和因特网</div></div><div class="info-2"><div class="info-item-1">有种高中生物的美。</div></div></div></a><a class="pagination-related" href="/2024/09/26/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E3%80%8B%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC%E4%B8%89%E7%AB%A0-%E4%BC%A0%E8%BE%93%E5%B1%82/" title="《计算机网络 自顶向下方法》笔记：第三章 传输层"><img class="cover" src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/27/6746e02939613.jpg" onerror="onerror=null;src='https://bu.dusays.com/2024/11/28/674845666d85e.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">《计算机网络 自顶向下方法》笔记：第三章 传输层</div></div><div class="info-2"><div class="info-item-1"> 🚥计算机网络 自顶向下方法 系列文章导航🚥 《计算机网络 自顶向下方法》笔记：第一章 计算机网络和因特网《计算机网络 自顶向下方法》笔记：第二章 应用层《计算机网络 自顶向下方法》笔记：第三章 传输层《计算机网络 自顶向下方法》笔记：第四章 网络层：数据平面《计算机网络 自顶向下方法》笔记：第五章 网络层：控制平面《计算机网络 自顶向下方法》笔记：第六章...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2024/09/22/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E3%80%8B%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC%E4%B8%80%E7%AB%A0%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%92%8C%E5%9B%A0%E7%89%B9%E7%BD%91/" title="《计算机网络 自顶向下方法》笔记：第一章 计算机网络和因特网"><img class="cover" src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/27/6746e02939613.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-22</div><div class="info-item-2">《计算机网络 自顶向下方法》笔记：第一章 计算机网络和因特网</div></div><div class="info-2"><div class="info-item-1">有种高中生物的美。</div></div></div></a><a class="pagination-related" href="/2024/09/26/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E3%80%8B%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC%E4%B8%89%E7%AB%A0-%E4%BC%A0%E8%BE%93%E5%B1%82/" title="《计算机网络 自顶向下方法》笔记：第三章 传输层"><img class="cover" src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/27/6746e02939613.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-26</div><div class="info-item-2">《计算机网络 自顶向下方法》笔记：第三章 传输层</div></div><div class="info-2"><div class="info-item-1"> 🚥计算机网络 自顶向下方法 系列文章导航🚥 《计算机网络 自顶向下方法》笔记：第一章 计算机网络和因特网《计算机网络 自顶向下方法》笔记：第二章 应用层《计算机网络 自顶向下方法》笔记：第三章 传输层《计算机网络 自顶向下方法》笔记：第四章 网络层：数据平面《计算机网络 自顶向下方法》笔记：第五章 网络层：控制平面《计算机网络 自顶向下方法》笔记：第六章...</div></div></div></a><a class="pagination-related" href="/2024/10/24/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E3%80%8B%E7%AC%94%E8%AE%B0%EF%BC%9A%E7%AC%AC%E4%BA%94%E7%AB%A0%20%E7%BD%91%E7%BB%9C%E5%B1%82%EF%BC%9A%E6%8E%A7%E5%88%B6%E5%B9%B3%E9%9D%A2/" title="《计算机网络 自顶向下方法》笔记：第五章 网络层：控制平面"><img class="cover" src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/27/6746e02939613.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-24</div><div class="info-item-2">《计算机网络 自顶向下方法》笔记：第五章 网络层：控制平面</div></div><div class="info-2"><div class="info-item-1"> 🚥计算机网络 自顶向下方法 系列文章导航🚥 《计算机网络 自顶向下方法》笔记：第一章 计算机网络和因特网《计算机网络 自顶向下方法》笔记：第二章 应用层《计算机网络 自顶向下方法》笔记：第三章 传输层《计算机网络 自顶向下方法》笔记：第四章 网络层：数据平面《计算机网络 自顶向下方法》笔记：第五章 网络层：控制平面《计算机网络 自顶向下方法》笔记：第六章 链路层和局域网  一、概述 1.传统方式与SDN方式 在上一章的学习里我们了解到转发表（基于目的的转发）和流表（通用转发）是链接网络层的数据平面和控制平面的首要元素。这些表定义了一台路由器的本地数据平面转发行为，而在通用转发下，所采取的动作还包括丢弃一个分组、复制一个分组和重写第2、3或4层分组首部字段。 在本章中，我们将关注这些转发表和流表是如何计算、维护和安装的。实际上我们已经了解到在传统方式下和 SDN...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%8E%9F%E7%90%86"><span class="toc-text">一、应用层协议原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-text">1.网络应用程序体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%AE%A2%E6%88%B7-%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%EF%BC%88client-server-architecture%EF%BC%89"><span class="toc-text">（1）客户-服务器体系结构（client-server architecture）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%AF%B9%E7%AD%89%E4%BD%93%EF%BC%88P2P%EF%BC%89%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-text">（2）对等体（P2P）体系结构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1"><span class="toc-text">2.进程通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%88%86%E5%B8%83%E5%BC%8F%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1%E9%9C%80%E8%A6%81%E8%A7%A3%E5%86%B3%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-text">3.分布式进程通信需要解决的问题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E8%BF%9B%E7%A8%8B%E6%A0%87%E8%AF%86%E5%92%8C%E5%AF%BB%E5%9D%80%E9%97%AE%E9%A2%98"><span class="toc-text">（1）进程标识和寻址问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E4%BC%A0%E8%BE%93%E5%B1%82%E5%A6%82%E4%BD%95%E5%90%91%E5%BA%94%E7%94%A8%E5%B1%82%E6%8F%90%E4%BE%9B%E6%9C%8D%E5%8A%A1"><span class="toc-text">（2）传输层如何向应用层提供服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E4%BC%A0%E8%BE%93%E5%B1%82%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%AE%9E%E7%8E%B0%E5%BA%94%E7%94%A8"><span class="toc-text">（3）如何使用传输层提供的服务实现应用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Web%E4%B8%8EHTTP"><span class="toc-text">二、Web与HTTP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%B8%93%E4%B8%9A%E6%9C%AF%E8%AF%AD"><span class="toc-text">1.专业术语</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-HTTP%E6%A6%82%E6%8B%AC"><span class="toc-text">2.HTTP概括</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-HTTP%E8%BF%9E%E6%8E%A5"><span class="toc-text">3.HTTP连接</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E9%9D%9E%E6%8C%81%E4%B9%85HTTP"><span class="toc-text">（1）非持久HTTP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E6%8C%81%E4%B9%85HTTP"><span class="toc-text">（2）持久HTTP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E6%8C%81%E4%B9%85HTTP%E5%8F%88%E5%88%86%E4%B8%BA%E9%9D%9E%E6%B5%81%E6%B0%B4%E6%96%B9%E5%BC%8F%E5%92%8C%E6%B5%81%E6%B0%B4%E6%96%B9%E5%BC%8F"><span class="toc-text">（3）持久HTTP又分为非流水方式和流水方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-HTTP%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F"><span class="toc-text">4.HTTP报文格式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89HTTP%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87"><span class="toc-text">（1）HTTP请求报文</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89HTTP%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87"><span class="toc-text">（2）HTTP响应报文</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E4%BA%A4%E4%BA%92%EF%BC%9Acookie"><span class="toc-text">5.用户与服务器的交互：cookie</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-Web%E7%BC%93%E5%AD%98"><span class="toc-text">6.Web缓存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%9D%A1%E4%BB%B6GET%E6%96%B9%E6%B3%95"><span class="toc-text">7.条件GET方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81FTP"><span class="toc-text">三、FTP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81Email"><span class="toc-text">四、Email</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%BB%84%E6%88%90"><span class="toc-text">1.组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%E8%BF%87%E7%A8%8B"><span class="toc-text">2.邮件发送过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-SMTP%E4%B8%8EHTTP%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-text">3.SMTP与HTTP的对比</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E9%82%AE%E4%BB%B6%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F"><span class="toc-text">4.邮件报文格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E9%82%AE%E4%BB%B6%E8%AE%BF%E9%97%AE%E5%8D%8F%E8%AE%AE"><span class="toc-text">5.邮件访问协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E9%82%AE%E4%BB%B6%E8%AE%BF%E9%97%AE%E5%8D%8F%E8%AE%AE%E4%B8%8ESMTP%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">（1）邮件访问协议与SMTP的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89POP3%E5%8D%8F%E8%AE%AE"><span class="toc-text">（2）POP3协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89IMAP"><span class="toc-text">（3）IMAP</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81DNS"><span class="toc-text">五、DNS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-DNS%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%8D%E5%8A%A1"><span class="toc-text">1.DNS提供的服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-DNS%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84"><span class="toc-text">2.DNS层次结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-text">3.域名服务器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-DNS%E8%AE%B0%E5%BD%95%E5%92%8C%E6%8A%A5%E6%96%87"><span class="toc-text">4.DNS记录和报文</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B"><span class="toc-text">5.域名解析过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%E5%9F%9F%E5%90%8D"><span class="toc-text">（1）用户输入域名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E6%9C%AC%E5%9C%B0%E7%BC%93%E5%AD%98%E6%A3%80%E6%9F%A5"><span class="toc-text">（2）本地缓存检查</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E6%9F%A5%E8%AF%A2%E6%9C%AC%E5%9C%B0%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-text">（3）查询本地域名服务器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E9%80%92%E5%BD%92%E6%9F%A5%E8%AF%A2%E5%92%8C%E8%BF%AD%E4%BB%A3%E6%9F%A5%E8%AF%A2"><span class="toc-text">（4）递归查询和迭代查询</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-DNS%E7%BC%93%E5%AD%98"><span class="toc-text">6.DNS缓存</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81P2P%E5%BA%94%E7%94%A8"><span class="toc-text">六、P2P应用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB"><span class="toc-text">1.文件共享</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E6%96%87%E4%BB%B6%E5%88%86%E5%89%B2"><span class="toc-text">（1）文件分割</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E6%96%87%E4%BB%B6%E7%B4%A2%E5%BC%95%E5%92%8C%E6%9F%A5%E6%89%BE"><span class="toc-text">（2）文件索引和查找</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E5%9D%97%E4%BC%A0%E8%BE%93"><span class="toc-text">（3）块传输</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E6%96%87%E4%BB%B6%E5%AE%8C%E6%95%B4%E6%80%A7%E9%AA%8C%E8%AF%81"><span class="toc-text">（4）文件完整性验证</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%885%EF%BC%89%E4%B8%8A%E4%BC%A0%E5%92%8C%E4%B8%8B%E8%BD%BD%E5%B9%B3%E8%A1%A1"><span class="toc-text">（5）上传和下载平衡</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-C-S%E6%A8%A1%E5%9E%8B%E4%B8%8EP2P%E6%A8%A1%E5%9E%8B%E4%B8%A4%E7%A7%8D%E6%A8%A1%E5%9E%8B%E4%B8%8B%E6%96%87%E4%BB%B6%E5%88%86%E5%8F%91%E9%80%9F%E5%BA%A6%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-text">2.C&#x2F;S模型与P2P模型两种模型下文件分发速度的比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-C-S%E6%A8%A1%E5%9E%8B%E4%B8%8EP2P%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">3.C&#x2F;S模型与P2P模型的区别</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url(https://bu.dusays.com/2024/11/27/6746e02939613.jpg);"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2026 By ℡傲雪&星火ぴ</div><div class="footer_custom_text">有一天，我看了四十四次日落！你知道的，当一个人情绪低落的时候，他会格外喜欢看日落。 —— 《小王子》</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button><button id="go-down" type="button" title="直达底部" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }
      
      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.isShuoshuo
  const option = null

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://aoxue-comment.tateishishima.site/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = (el = document, path = location.pathname) => {
    twikoo.init({
      el: el.querySelector('#twikoo-wrap'),
      envId: 'https://aoxue-comment.tateishishima.site/',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      },
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    

    isShuoshuo && (window.shuoshuoComment.destroyTwikoo = () => {
      if (el.children.length) {
        el.innerHTML = ''
        el.classList.add('no-comment')
      }
    })
  }

  const loadTwikoo = (el, path) => {
    if (typeof twikoo === 'object') setTimeout(() => init(el, path), 0)
    else btf.getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(() => init(el, path))
  }

  if (isShuoshuo) {
    'Twikoo' === 'Twikoo'
      ? window.shuoshuoComment = { loadComment: loadTwikoo }
      : window.loadOtherComment = loadTwikoo
    return
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer src="/js/sakura.js"></script><script src="/js/live2d.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://aoxuexinghuo.github.io/categories/code/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">💻 力扣 (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://aoxuexinghuo.github.io/categories/计算机组成原理/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📖 计算机组成原理 (7)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://aoxuexinghuo.github.io/categories/操作系统/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">‍📓 操作系统 (5)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://aoxuexinghuo.github.io/categories/计算机网络/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📒 计算机网络 自顶向下 (6)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="https://aoxuexinghuo.github.io/categories" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';
    console.log('已挂载magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(50% - 5px);background: #f2f2f2;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: #b30070}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2026/01/01/力扣 随笔/" alt=""><img width="48" height="48" src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/12/31/6773e03fd49f8.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2026-01-01</span><a class="blog-slider__title" href="2026/01/01/力扣 随笔/" alt="">力扣 随笔</a><div class="blog-slider__text">力扣？启动！</div><a class="blog-slider__button" href="2026/01/01/力扣 随笔/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/02/22/数二 随笔/" alt=""><img width="48" height="48" src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2025/03/19/67daad7eb1caa.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2026-01-01</span><a class="blog-slider__title" href="2025/02/22/数二 随笔/" alt="">数二 随笔</a><div class="blog-slider__text">每天第一件事，先背一遍泰勒展开式</div><a class="blog-slider__button" href="2025/02/22/数二 随笔/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/02/17/计算机组成原理 第一章 计算机系统概述/" alt=""><img width="48" height="48" src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2025/02/17/67b2da11a9c64.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2026-01-01</span><a class="blog-slider__title" href="2025/02/17/计算机组成原理 第一章 计算机系统概述/" alt="">计算机组成原理 第一章 计算机系统概述</a><div class="blog-slider__text">啊啊啊，我喜欢计算机组成原理啊啊啊</div><a class="blog-slider__button" href="2025/02/17/计算机组成原理 第一章 计算机系统概述/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/23/操作系统 第一章 计算机系统概述/" alt=""><img width="48" height="48" src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2025/04/07/67f376ff326d5.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2026-01-01</span><a class="blog-slider__title" href="2025/03/23/操作系统 第一章 计算机系统概述/" alt="">操作系统 第一章 计算机系统概述</a><div class="blog-slider__text">我是谁？</div><a class="blog-slider__button" href="2025/03/23/操作系统 第一章 计算机系统概述/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/09/22/《计算机网络 自顶向下方法》笔记：第一章 计算机网络和因特网/" alt=""><img width="48" height="48" src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/27/6746e02939613.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2026-01-01</span><a class="blog-slider__title" href="2024/09/22/《计算机网络 自顶向下方法》笔记：第一章 计算机网络和因特网/" alt="">《计算机网络 自顶向下方法》笔记：第一章 计算机网络和因特网</a><div class="blog-slider__text">有种高中生物的美。</div><a class="blog-slider__button" href="2024/09/22/《计算机网络 自顶向下方法》笔记：第一章 计算机网络和因特网/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/11/27/博客优化日志/" alt=""><img width="48" height="48" src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/30/674ae885d9695.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2026-01-01</span><a class="blog-slider__title" href="2024/11/27/博客优化日志/" alt="">博客优化日志</a><div class="blog-slider__text">记录对博客的修改，目前看起来还是很塑料。</div><a class="blog-slider__button" href="2024/11/27/博客优化日志/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/11/26/Hexo博客搭建教程/" alt=""><img width="48" height="48" src= "https://bu.dusays.com/2024/12/17/6761341f89d99.gif" data-lazy-src="https://bu.dusays.com/2024/11/30/674ae88cdbcd7.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2026-01-01</span><a class="blog-slider__title" href="2024/11/26/Hexo博客搭建教程/" alt="">Hexo博客搭建教程</a><div class="blog-slider__text">先开个坑！</div><a class="blog-slider__button" href="2024/11/26/Hexo博客搭建教程/" alt="">详情   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end --></body></html>