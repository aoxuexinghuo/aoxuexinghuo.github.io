---
title: 计算机组成原理 第三章 存储系统
date: 2025-03-01 15:25:40
category: 计算机组成原理
tags:
  - 计算机组成原理
  - 笔记
description: 计算机省钱原理。
cover: https://bu.dusays.com/2025/03/02/67c3f67d3090a.jpg
---

## 一、存储系统概述

### 1.存储器的分类

**（1）按存储元件分类**

存储元件必须有两个截然不同的物理状态才能被用来表示二级制代码 0 和 1。常用的存储有元件有半导体器件、磁性材料和光介质。分别称为**半导体存储器**、**磁表面存储器**、**光盘存储器**。

**（2）按存取方式分类**

- **随机存取存储器（Random Access Memory，RAM）**：读写任何一个存储单元所需时间都相同，与存储单元所在的物理位置无关。
- **顺序存取存储器（Sequential Access Memory，SAM）**：读写一个存储单元所需时间取决于存储单元所在的物理位置（如磁带）。
- **直接存取存储器（Direct Access Memory，DAM）**：既有随机存取特性，也有顺序存取特性。先直接选取信息所在区域，然后按顺序方式存取，存取速度位于 RAM 和 DAM 之间（如磁盘、光盘）。

SAM 和 DAM 读写某个存储单元所需时间都与存储单元的物理位置有关，两者统称为**串行访问存储器**。

上述的三种存储器都是按所需信息的地址来访问，但有时我们只知道要访问信息的内容特征，此时，只能按内容检索到存储位置进行读写，这种存储器成为**按内容访问存储器（Content Addressed Memory，CAM）**或**相联存储器（Associative Memory）**。快表就是一种相联存储器。

**（3）按信息的可更改性分类**

- **读写存储器（Read/Write Memory）**：可读、也可写（如 RAM 芯片）。
- **只读存储器（Read Only Memory）**：只能读，不能写（用 ROM 表示，BIOS 通常写在 ROM 中）。

> **注意**：RAM 芯片和 ROM 芯片都采用随机存取方式进行信息的访问。ROM 芯片中的信息一旦确定，通常情况下只读不写，但广义上的只读存储器已可通过电擦除等方式进行写入，“只读” 的概念没有保留，但仍保留了断电内容保留、随机读取特性，但其写入速度比读取速度慢得多。

**（4）按断电后信息的可保存性分类**

- **易失性存储器（Volatile Memory）**：电源关闭时信息自动丢失（如 RAM、Cache）。
- **非易失性存储器（Nonvolatile Memory）**：信息可一直保留，不需电源维持（如 ROM、磁表面存储器、光存储器）。

**（5）按功能分类**

- **高速缓冲存储器**：简称 Cache，位于主存和 CPU 之间，用来存放当前 CPU 经常使用的指令和数据。
- **主存储器**：简称主存，也称内存储器（内存），用来存放计算机运行期间所需的程序和数据，CPU 可以直接随机地对其进行访问。主存也可和 Cache 及辅助存储器交换数据。
- **辅助存储器**：简称辅存，也称外存储器（外存），用来存放当前暂时不用的程序和数据，以及一些需要永久保存的信息。辅存的内容需要调入主存后才能被 CPU 访问。

> **注意**：也有些地方将辅存与外存区分开，辅存指磁盘存储器，外存指辅存和容量更大，速度更慢的磁带存储器和光盘存储器。

### 2.存储器的性能指标

**（1）存储容量 = 存储字数 × 字长（如 1M × 8 位）**

存储字数表示存储器的地址空间大小，字长表示一次存取操作的数据量。

**（2）单位成本：价位 = 总成本/总容量**

**（3）存储速度：数据传输速率（每秒传送信息的位数）= 数据的宽度/存取周期**

- **存取时间（T_a）**：指从启动一次存储器操作到完成该操作所经历的时间，分为读出时间和写入时间。
- **存取周期（T_m）**：存取周期是指存储器进行一次完整的读/写操作所需要的全部时间，即连续两次独立访问存储器操作之间所需的最小时间间隔。
- **主存带宽（B_m）**：也称**数据传输速率**，表示每秒从主存进出信息的最大数量，单位为字/秒、字节/秒（B/s）或位/秒（b/s）。

存取周期大于存储时间，因为任何一种存储器在进行读写操作后都需要一段恢复内部状态的复原时间。

![image-20250302161115319](https://bu.dusays.com/2025/03/02/67c412bfdcc2c.png)

### 3.存储器的层次结构

![image-20250302161316835](https://bu.dusays.com/2025/03/02/67c413efaf884.png)

![image-20250302161351639](https://bu.dusays.com/2025/03/02/67c413f34af08.png)

存储器层次结构的主要思想是上一层的存储器作为低一层存储器的高速缓存。

**Cache-主存层**主要解决 CPU 和主存速度不匹配的问题，主存和 Cache 之间的数据调动是由**硬件**自动完成的，对所有程序员均是透明的。

**主存-辅存层**主要解决存储系统的容量问题，主存和辅存之间的数据调动是由**硬件和操作系统**共同完成的，对应用程序员是透明的（此处的透明均为看不见的意思）。

## 二、主存储器

### 1.主存储器的基本组成

下图为一个单管动态 MOS 管存储元件，MOS 管用于控制电路的通断，电容存在有电和没电两种状态，可用于表示 0 和 1 两种二进制代码。

![image-20250302201451157](https://bu.dusays.com/2025/03/02/67c452afce0cb.png)

像这样一个个存储 0 或 1 的记忆单元（也称存储元件、存储单元）构成的存储矩阵（也称存储体、存储阵列），是存储器的核心部件。

![image-20250302201809178](https://bu.dusays.com/2025/03/02/67c452b391df3.png)

图中一行存储元件构成一个存储单元，地址线每次控制访存一整个存储单元的内容。也就是说，每次同时访存一整个字。而片选线用于选择要交互的芯片。

封装后的主存如下图所示：

![image-20250302202307029](https://bu.dusays.com/2025/03/02/67c452b6ddc76.png)

当需要访问主存时，CPU 首先把被访问单元的地址送到 MAR 中，然后通过地址线将主存地址送到主存中的地址寄存器，以便地址译码器进行译码，选中相应单元，同时 CPU 将读/写控制信号通过读/写控制线送到主存的读写控制电路。根据选择的不同，通过数据线将数据从存储体送进 MDR（读）或从 MDR 送进存储体（写）。

MAR 的位数与地址线的位数相同，MDR 的位数与数据线的位数相同。

以 64K × 32 位的芯片为例，我们可以计算出地址线和数据线的位数分别为 16 和 32（这里默认按字寻址，根据寻址方式的不同，地址线的个数也会不一样，例如如果按字节寻址，则地址线的个数应为 18，可表示的地址范围要扩大四倍）。

> **注意**：数据线的位数通常等于存储字长，因此 MDR 的位数通常等于存储字长；若数据线的位数不等于存储字长，则 MDR 的位数由数据线的位数决定。

### 2.SRAM 和 DRAM









