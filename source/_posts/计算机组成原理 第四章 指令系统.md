---
title: 计算机组成原理 第四章 指令系统
date: 2025-03-09 14:22:24
category: 计算机组成原理
tags:
  - 计算机组成原理
  - 笔记
description: 不要小瞧我和计算机之间的羁绊啊！
cover: https://bu.dusays.com/2025/03/09/67cd34ff37e69.jpg
series: CS
---

> **🚥计算机组成原理 系列文章导航🚥**
>
> {% series CS %}
>

## 一、指令集体系结构

**机器指令（简称指令）** 是指计算机执行某种操作的命令。一台计算机的所有指令的集合构成了该机的**指令系统**，也称**指令集**。指令系统是**指令集体系结构（ISA）** 中最核心的部分，ISA 完整定义了软件和硬件之间的接口。

ISA 规定的内容主要包括：

- 指令格式，指令寻址方式，操作类型，以及每种操作对应的操作数的相应规定。

- 操作数的类型，操作数寻址方式，以及是按大端方式还是按小端方式存放。
- 程序可访问的寄存器编号、个数和位数，存储空间的大小和编码方式。
- 指令执行过程的控制方式等，包括程序计数器、条件码定义等。

> **注意**：一台计算机只能执行自己指令系统中的指令，不能执行其他系统指令，例如 X86 架构（Intel 系列 CPU）和 ARM 架构（智能手机）的计算机的二进制程序互不兼容。

## 二、指令的基本格式

**指令字长**是指一条指令所包含的二进制代码的位数。通常把长度等于机器字长的指令称为单字长指令，等于半个机器字长的称为半字长指令，等于两个机器字长长度的称为双字长指令。

> **注意**：指令长度的不同会导致取指令时间开销的不同，单字长指令只需一次访存就能将完整指令取出；而双字长指令则需要访存两次，耗费两个存取周期。

### 1.按指令长度分类

- **定长指令字结构**：在一个指令系统中，若所有指令的长度都是相等的。定字长指令的执行速度快，控制简单。
- **变长指令字结构**：各种指令的长度随指令功能而异

因为主存一般是**按字节编址**的，所以指令字长通常为字节的整倍数。

### 2.按地址码数目分类

**（1）零地址结构**：只给出操作码 OP，没有显式地址

1. 不需要操作数的指令。如空指令、停机指令、关中断指令等。
2. 零地址的运算类指令仅用在堆栈计算机中。通常参与运算的两个操作数隐含地从栈顶和次栈顶弹出，送到计算机进行运算，运算结果再隐含地压入堆栈（例如数据结构中的后缀表达式，运算时操作数隐含在栈里）。

**（2）一地址指令**：OP + A1

1. 只有目标操作数的单操作指令。按 A1 地址读取操作数，进行 OP 操作后，结果存回原地址。如：OP(A1) -> A1（3 次访存，取指、读 A1、写 A1）。
2. 隐含约定目的地址的双操作数指令。按指令地址 A1 可读取源操作数，指令可隐含约定另一个操作数由 ACC 提供，运算结果也存放在 ACC 中。如：(ACC)OP(A1) -> ACC（2 次访存，取指、读 A1）。

**（3）二地址指令**：OP + A1 + A2

指令含义：(A1)OP(A2) -> A1（4 次访存，取指、读 A1、读 A2，写 A1）

**（4）三地址指令**：OP + A1 + A2 + A3

指令含义：(A1)OP(A2)->A3（4 次访存，取指、读 A1、读 A2、写 A3）

**（5）四地址指令**

指令含义：(A1)OP(A2)->A3，A4 = 下一条将要执行的指令，执行指令后将 PC 的值修改为 A4 所指地址（4 次访存，取指、读 A1、读 A2、写 A3）。

### 3.按操作码长度分类

- **定长操作码**：指令系统中所有指令的操作码长度都相同。
- **可变长操作码**：指令系统中各指令的操作码长度可变。

最常见的变长操作码方式是**扩展操作码**，下图为一种扩展操作码的方式：

![cce3ced2-6b9d-4296-9215-3b32c113d0b5](https://bu.dusays.com/2025/03/09/67cd92edb1c5f.png)

图中，操作码的位数随地址数的减少而减少。其中，零地址指令为 16 条，一地址和二地址指令为 15 条，因为需要留出 1111 作为扩展操作码使用。如果 4 位的基本操作码全部用于三地址，则有 16 条三地址指令。

除了这种安排方式之外，还有其他扩展方式，如 15 条三地址指令、12 条二进制指令、63 条一地址指令和 16 条零地址指令，共 106 条指令等，

在扩展时需要注意一下两点：

- 不允许短码是长码的前缀，即短码操作码不能与长操作码的前面部分的代码相同。
- 各指令的操作码一定不能重复。

一般对使用频率较高的指令分配较短的操作码，对使用频率较低的指令分配较长的操作码，从而尽可能减少指令译码和分析的时间。

### 4.按操作类型分类

**（1）数据传送类**

**传送操作**：通常有寄存器之间的传送（MOV）、从内存单元读取到 CPU 寄存器（LOAD）、从 CPU 寄存器写数据到内存单元（STORE）、进栈操作（PUSH）、出栈操作（POP）等。

**（2）运算类**

**算术逻辑运算**：这类指令主要有加（ADD）、减（SUB）、乘（MUL）、除（DIV）、加 1（INC）、减 1（DEC）、与（AND）、或（OR）、取反（NOT）、异或（XOR）等。

**移位操作**：算术移位、逻辑移位、循环移位等。

**（3）程序控制类**

**转移指令**：无条件转移（JMP）、条件转移（BRANCH）、调用（CALL）、返回（RET）、陷阱（TRAP）等。

> **注意**：调用指令和返回指令的区别是，执行调用指令时必须保存下一条指令的地址（返回地址），当子程序执行结束时，根据返回地址返回到主程序继续执行；而转移指令则不返回执行。

**（4）输入输出类**

**输入输出操作**：用于完成 CPU 与外部设备交换数据或传送控制命令及信息状态。
