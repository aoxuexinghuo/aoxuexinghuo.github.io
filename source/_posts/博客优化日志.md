---
title: åšå®¢ä¼˜åŒ–æ—¥å¿—
date: 2024-11-27 21:31:22
category: Hexo
tags:
  - Hexo
  - Butterfly
description: è®°å½•å¯¹åšå®¢çš„ä¿®æ”¹ï¼Œç›®å‰çœ‹èµ·æ¥è¿˜æ˜¯å¾ˆå¡‘æ–™ã€‚
cover: https://bu.dusays.com/2024/11/30/674ae885d9695.jpg
swiper_index: 2
---

## 1.Twikooè¯„è®ºç³»ç»Ÿ

{% folding cyan, æŸ¥çœ‹æ•™ç¨‹ %}

å‚è€ƒæ–‡ç« ï¼š[Twikoo | ä¸€ä¸ªç®€æ´ã€å®‰å…¨ã€å…è´¹çš„é™æ€ç½‘ç«™è¯„è®ºç³»ç»Ÿ](https://twikoo.js.org/)

~~äº‘å‡½æ•°ä½¿ç”¨Verceléƒ¨ç½²ï¼Œç›®å‰è¯„è®ºç³»ç»Ÿéœ€è¦ç§‘å­¦ä¸Šç½‘æ‰èƒ½ä½¿ç”¨ã€‚~~

ç›®å‰å·²èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œæ„Ÿè°¢ç‰¢é¥­çš„åŸŸåã€‚

æ˜µç§°æ è¾“å…¥QQå·åå¯è‡ªåŠ¨è¯»å–å¤´åƒã€æ˜µç§°ã€QQé‚®ç®±ã€‚

æœ‰æ—¶é—´æŠŠå…·ä½“å®ç°è¿‡ç¨‹è¡¥ä¸Šã€‚

{% endfolding %}

## 2.å¢åŠ ç»Ÿè®¡å›¾è¡¨

{% folding cyan, æŸ¥çœ‹æ•™ç¨‹ %}

æœ€åæ›´æ–°æ—¶é—´ï¼š2024-12-19

å‚è€ƒæ–‡ç« ï¼š[ä½¿ç”¨Chartsæ’ä»¶ç»™Butterflyå¢åŠ ç»Ÿè®¡å›¾è¡¨ | Guo Le's Blog](https://blog.guole.fun/posts/18158/#)

å…·ä½“å®ç°æ•ˆæœå¯å‚ç…§æœ¬åšå®¢ã€‚

å®‰è£…æ’ä»¶ï¼š

```bash
npm install hexo-butterfly-charts --save
```

å°†ä¸‹é¢é…ç½®å†…å®¹å†™å…¥ä¸»é¢˜é…ç½®æ–‡ä»¶`_config.butterfly.yml`ä¸­ï¼Œå…·ä½“å†…å®¹å¯æ ¹æ®è‡ªèº«éœ€æ±‚ä¿®æ”¹ï¼š

```yml
# ç»Ÿè®¡å›¾è¡¨ï¼Œæ”¯æŒå‘å¸ƒæ–‡ç« ç»Ÿè®¡ã€å‘å¸ƒæ—¥å†ã€Topæ ‡ç­¾ç»Ÿè®¡ã€åˆ†ç±»ç»Ÿè®¡ã€åˆ†ç±»é›·è¾¾ã€‚
# see https://www.npmjs.com/package/hexo-butterfly-charts
charts:
  enable: true # æ˜¯å¦å¯ç”¨åŠŸèƒ½
  postsChart:
    title: æ–‡ç« å‘å¸ƒç»Ÿè®¡ # è®¾ç½®æ–‡ç« å‘å¸ƒç»Ÿè®¡çš„æ ‡é¢˜ï¼Œé»˜è®¤ä¸ºç©º
    interval: 1 # æ¨ªåæ ‡é—´éš”
  tagsChart:
    title: Top 10 æ ‡ç­¾ç»Ÿè®¡ # è®¾ç½®æ ‡ç­¾ç»Ÿè®¡çš„æ ‡é¢˜ï¼Œé»˜è®¤ä¸ºç©º
    interval: 1 # æ¨ªåæ ‡é—´éš”
  postsCalendar_title: æ–‡ç« å‘å¸ƒæ—¥å† # è®¾ç½®å‘å¸ƒæ—¥å†çš„æ ‡é¢˜ï¼Œé»˜è®¤ä¸ºç©º
  categoriesChart_title: # è®¾ç½®åˆ†ç±»ç»Ÿè®¡çš„æ ‡é¢˜ï¼Œé»˜è®¤ä¸ºç©º
  categoriesRadar_title: # è®¾ç½®åˆ†ç±»é›·è¾¾çš„æ ‡é¢˜ï¼Œé»˜è®¤ä¸ºç©º
  echarts_CDN: https://lib.baomitu.com/echarts/4.7.0/echarts.min.js
```

**å°†å‘å¸ƒæ—¥å†æ·»åŠ åˆ° å½’æ¡£ é¡µé¢**

{% folding yellow, ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… %}

å®‰è£…æ’ä»¶åï¼Œåœ¨`/Butterfly/layout/archive.pug`æ–‡ä»¶ä¸­ï¼Œ`#archive`ä¸‹é¢æ·»åŠ ä¸€è¡Œ`#posts-calendar.js-pjax`, æ–°æ·»åŠ çš„æ¯”ä¸Šä¸€è¡Œå¤šç¼©è¿›ä¸¤ä¸ªç©ºæ ¼ã€‚

ä¿®æ”¹åå¦‚ä¸‹ï¼š

```pug
extends includes/layout.pug

block content
  include ./includes/mixins/article-sort.pug
  #archive
    #posts-calendar.js-pjax
    .article-sort-title= _p('page.articles') + ' - ' + site.posts.length
    +articleSort(page.posts)
    include includes/pagination.pug

```

å…¶ä»–é¡µé¢ï¼Œåªéœ€`md`æ–‡ä»¶ä¸­æ’å…¥è¿™ä¸ªæ ‡ç­¾ï¼š

```html
<div id="posts-calendar" class="js-pjax"></div>
```

{% endfolding %}

**å°† å‘å¸ƒç»Ÿè®¡ æ·»åŠ åˆ° å½’æ¡£ é¡µé¢**

{% folding yellow, ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… %}

å®‰è£…æ’ä»¶åï¼Œåœ¨`/Butterfly/layout/archive.pug`æ–‡ä»¶ä¸­ï¼Œ`#archive`ä¸‹é¢æ·»åŠ ä¸€è¡Œ`#posts-chart.js-pjax`, æ–°æ·»åŠ çš„æ¯”ä¸Šä¸€è¡Œå¤šç¼©è¿›ä¸¤ä¸ªç©ºæ ¼ã€‚

ä¿®æ”¹åå¦‚ä¸‹ï¼š

```pug
extends includes/layout.pug

block content
  include ./includes/mixins/article-sort.pug
  #archive
    #posts-chart.js-pjax
    .article-sort-title= _p('page.articles') + ' - ' + site.posts.length
    +articleSort(page.posts)
    include includes/pagination.pug

```

å…¶ä»–é¡µé¢ï¼Œåªéœ€`md`æ–‡ä»¶ä¸­æ’å…¥è¿™ä¸ªæ ‡ç­¾ï¼š

```html
<div id="posts-chart" class="js-pjax"></div>
```

{% endfolding %}

**å°† æ ‡ç­¾ç»Ÿè®¡ æ’å…¥åˆ° æ ‡ç­¾ é¡µé¢**

{% folding yellow, ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… %}

ç¼–è¾‘ä¸»é¢˜ç›®å½•`/Butterfly/layout/includes/page/tags.pug`æ–‡ä»¶ï¼Œåœ¨å¼€å¤´æ·»åŠ ä¸€è¡Œ`#tags-chart(data-length = "10").js-pjax`ï¼Œ`data-length = "10"`è¡¨ç¤ºæ˜¾ç¤º Top 10 çš„æ ‡ç­¾ã€‚

ä¿®æ”¹åå¦‚ä¸‹ï¼š

```pug
#tags-chart(data-length = "10").js-pjax
.tag-cloud-title.is-center= _p('page.tag')
  |  - 
  span.tag-cloud-amount= site.tags.length
.tag-cloud-list.is-center
  !=cloudTags({source: site.tags, minfontsize: 1.2, maxfontsize: 2.1, limit: 0, unit: 'em'})

```

å…¶ä»–é¡µé¢ï¼Œåªéœ€`md`æ–‡ä»¶ä¸­æ’å…¥è¿™ä¸ªæ ‡ç­¾ï¼š

```html
<!-- "data-length" = how many tags to show, default 10 -->
<div id="tags-chart" data-length="10" class="js-pjax"></div>
```

{% endfolding %}

**å°† åˆ†ç±»ç»Ÿè®¡ï¼ˆæ— æ ‡é¢˜ï¼‰å’Œ åˆ†ç±»é›·è¾¾å›¾ï¼ˆæ— æ ‡é¢˜ï¼‰ æ·»åŠ åˆ° åˆ†ç±» é¡µé¢ã€‚**

{% folding yellow, ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… %}

ç¼–è¾‘ä¸»é¢˜ç›®å½•`/Butterfly/layout/includes/page/categories.pug`æ–‡ä»¶ï¼Œåœ¨ç¬¬5è¡Œæ·»åŠ `#categories-chart.js-pjax`å’Œ`#categories-radar.js-pjax`ã€‚

ä¿®æ”¹åå¦‚ä¸‹ï¼š

```pug
.category-lists
  .category-title.is-center= _p('page.category')
    |  - 
    span.category-amount= site.categories.length
  #categories-chart.js-pjax
  #categories-radar.js-pjax
  div!= list_categories()

```

å…¶ä»–é¡µé¢ï¼Œåªéœ€`md`æ–‡ä»¶ä¸­æ’å…¥è¿™ä¸ªæ ‡ç­¾ï¼š

åˆ†ç±»ç»Ÿè®¡ï¼ˆæ— æ ‡é¢˜ï¼‰

```html
<div id="categories-chart" class="js-pjax"></div>
```

åˆ†ç±»é›·è¾¾å›¾ï¼ˆæ— æ ‡é¢˜ï¼‰

```html
<div id="categories-radar" class="js-pjax"></div>
```

{% endfolding %}

{% endfolding %}

## 3.å®‰çŸ¥é±¼æ³¢æµª

{% folding cyan, æŸ¥çœ‹æ•™ç¨‹ %}

å‚è€ƒæ–‡ç« ï¼š[butterflyæ–‡ç« é¡¶éƒ¨æ·»åŠ æ³¢æµªæ•ˆæœ | å®‰çŸ¥é±¼ (anheyu.com)](https://blog.anheyu.com/posts/98c4.html)

{% endfolding %}

## 4.æ¸å˜è‰²ç‰ˆæƒç¾åŒ–

{% folding cyan, æŸ¥çœ‹æ•™ç¨‹ %}

å‚è€ƒæ–‡ç« ï¼š[ï¼ˆäºŒåˆ›ï¼‰Copyright-beautify | Akilarã®ç³–æœå±‹](https://akilar.top/posts/8322f8e6/)
å‹é“¾éƒ¨åˆ†å­—ä½“ä¼¼ä¹è¢«åŒæ­¥ä¿®æ”¹ä¸ºè“è‰²ï¼Œå¾ˆä¸‘...

{% endfolding %}

## 5.å‹é“¾æ ·å¼åŠŸèƒ½å‡çº§

{% folding cyan, æŸ¥çœ‹æ•™ç¨‹ %}

å‚è€ƒæ–‡ç« ï¼š[Friend Link Card Beautify | Akilarã®ç³–æœå±‹](https://akilar.top/posts/57291286/)

å°±å–œæ¬¢è¿™ç§å¤§å¼€å¤§åˆçš„åˆ å‡ï¼

æ³¨æ„éƒ¨åˆ†æ¨¡å¼éœ€è¦é¢å¤–æ·»åŠ ç¼©ç•¥å›¾ï¼Œå³æ·»åŠ ä¸€æ¡åä¸º`siteshot`çš„é…ç½®é¡¹ã€‚

æœ‰æ—¶é—´æŠŠå…·ä½“å®ç°è¿‡ç¨‹æ¬è¿‡æ¥ï¼Œä½†æ˜¯æˆ‘ä¸æ˜¯å¾ˆå–œæ¬¢è¿™ä¸ªé£æ ¼ï¼Œåæ‚”äº†ï¼Œè¿˜ä¸å¦‚ç›´æ¥ç”¨å¤–æŒ‚æ ‡ç­¾çš„ç½‘ç«™å¡ç‰‡æ¥çš„å¥½çœ‹ã€‚

{% endfolding %}

## 6.å¯¼èˆªæ é­”æ”¹

{% folding cyan, æŸ¥çœ‹æ•™ç¨‹ %}

æœ€åæ›´æ–°æ—¶é—´ï¼š2024-12-19

**èœå•å±…ä¸­**

{% folding yellow, ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… %}

å‚è€ƒæ–‡ç« ï¼š[åšå®¢é­”æ”¹æ•™ç¨‹æ€»ç»“(äº”) | FomalhautğŸ¥](https://www.fomal.cc/posts/eec9786.html)

{% endfolding %}

**é¢œè‰²ä¿®æ”¹**

{% folding yellow, ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… %}

`custom.css` æ–‡ä»¶æ’å…¥å¦‚ä¸‹å†…å®¹ï¼Œæ¸å˜è‰²å¯¼èˆªæ ã€‚

```css
/* å¯¼èˆªæ  */
#page-header.nav-fixed #nav {
    /*background: rgba(135,206,250, 0.75);*/
    background: linear-gradient(
            -45deg,
            #e8d8b9,
            #a3e9eb,
            #00BFFF
    );
    backdrop-filter: var(--backdrop-filter);
}

[data-theme="dark"] #page-header.nav-fixed #nav {
    background: rgba(0, 0, 0, 0.7) !important;
}

```

è¿™é‡Œçš„ `backdrop-filter: var(--backdrop-filter);`æ˜¯åšä¸»å‰ç½®ä¿®æ”¹å†…å®¹ï¼Œæ— æ³•ç…§æ¬ï¼ŒåªæŠŠé¢œè‰²ä¿®æ”¹éƒ¨åˆ†æ¬è¿‡å»å°±OKã€‚

{% endfolding %}

{% endfolding %}

## 7.åŠ è½½åŠ¨ç”»

{% folding cyan, æŸ¥çœ‹æ•™ç¨‹ %}

å‚è€ƒæ–‡ç« ï¼š[HeoåŒæ¬¾loadingåŠ¨ç”» | å®‰çŸ¥é±¼ (anheyu.com)](https://blog.anheyu.com/posts/52d8.html)

è±ªåï¼

{% endfolding %}

## 8.ç”µå­é’Ÿ

{% folding cyan, æŸ¥çœ‹æ•™ç¨‹ %}

å‚è€ƒæ–‡ç« ï¼š[ç»™butterflyæ·»åŠ ä¾§è¾¹æ ç”µå­é’Ÿ | å®‰çŸ¥é±¼ (anheyu.com)](https://blog.anheyu.com/posts/fc18.html)

emmï¼Œä½ è¿™ä¸ªå¤©æ°”å¥½åƒä¸å¤ªå¯¹ã€‚

{% endfolding %}

## 9.é¦–é¡µè½®æ’­

{% folding cyan, æŸ¥çœ‹æ•™ç¨‹ %}

å‚è€ƒæ–‡ç« ï¼š[Swiper Bar | Akilarã®ç³–æœå±‹](https://akilar.top/posts/8e1264d1/)

å“ï¼Œå·®ç‚¹æ„æ€ã€‚

{% endfolding %}

## 10.hexo-magnet æ’ä»¶

{% folding cyan, æŸ¥çœ‹æ•™ç¨‹ %}

å‚è€ƒæ–‡ç« ï¼š[åˆ†ç±»: é­”æ”¹æ•™ç¨‹ | FomalhautğŸ¥](https://www.fomal.cc/posts/eec9786.html)](https://zfe.space/post/hexo-magnet.html)

æŒºå¯çˆ±çš„ã€‚è®°å¾—åŠ å…¥é»‘å¤œæ¨¡å¼é€‚é…ã€‚

{% endfolding %}

## 11.ä¸»é¢˜è‰²ä¿®æ”¹

{% folding cyan, æŸ¥çœ‹æ•™ç¨‹ %}

Butterflyçš„ä¸»é¢˜è‰²é…ç½®ä¼¼ä¹å­˜åœ¨bugï¼Œç›´æ¥è·‘åˆ° `var.style` æ–‡ä»¶ç‹ ç‹ ä¿®æ”¹å˜é‡ï¼Œç®€å•ç²—æš´ã€‚

{% endfolding %}

## 12.æ¨±èŠ±é£˜è½ç‰¹æ•ˆ

{% folding cyan, æŸ¥çœ‹æ•™ç¨‹ %}

æœ€åæ›´æ–°æ—¶é—´ï¼š2024-12-19

**ä½¿ç”¨æ–¹å¼**

{% folding yellow, ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… %}

åœ¨å¯¹åº”é¡µé¢åŠ å…¥`<script async src="https://npm.elemecdn.com/tzy-blog/lib/js/other/sakura.js"></script>`ã€‚

æˆ–è€…åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­å…¨å±€å¼•å…¥ï¼š

```yml
inject:
  head:
  bottom:
    - <script async src="https://npm.elemecdn.com/tzy-blog/lib/js/other/sakura.js"></script>
```

æŒºå¥½çœ‹çš„ï¼Œå°±æ˜¯çœ‹ä¹…äº†æœ‰ç‚¹çƒ¦ï¼Œå…¨å±€å¼•å…¥è¿˜æ˜¯ç®—äº†ã€‚

æƒ³åˆ°äº†é‚£å¥æ­Œï¼š

> ã•ãã‚‰ ã•ãã‚‰ ä¼šã„ãŸã„ã‚ˆ
>
> ã„ã‚„ã  å›ã«ä»Šã™ãä¼šã„ãŸã„ã‚ˆ

å¥½æ±€ï¼

{% endfolding %}

**å•é¡µé¢å¼•ç”¨æ—¶ä¸ pjax äº§ç”Ÿå†²çªæ—¶çš„è§£å†³æ–¹æ¡ˆ**

{% folding yellow, ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… %}

æˆ‘åªåœ¨å‹é“¾ç•Œé¢å¼•å…¥äº†æ¨±èŠ±ç‰¹æ•ˆï¼Œä½†æ˜¯ç”±äºæˆ‘æˆ‘å¼€å¯äº†pjaxï¼Œå¯¼è‡´é¡µé¢åˆ‡æ¢æ—¶æ¨±èŠ±ç‰¹æ•ˆä¼šä¸€ç›´ä¿ç•™ï¼Œè™½ç„¶æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨åˆ·æ–°æ¥æ¸…é™¤ï¼Œä½†æ˜¯è¿™æ ·æ“ä½œè¿‡äºä¸‘é™‹äº†ï¼Œä¸‹é¢ç»™å‡ºæˆ‘è‡ªå·±çš„è§£å†³æ–¹æ¡ˆã€‚

åœ¨source/jsç›®å½•ä¸‹æ–°å»ºsakura.jsæ–‡ä»¶ï¼Œå†™å…¥å¦‚ä¸‹å†…å®¹ï¼š

```javascript
function loadSakuraScript() {
    // æ£€æŸ¥å½“å‰é¡µé¢è·¯å¾„ï¼Œå†³å®šæ˜¯å¦åŠ è½½æ¨±èŠ±ç‰¹æ•ˆ
    if (window.location.pathname === "/link/") { // ä¿®æ”¹ä¸ºå®é™…è·¯å¾„
        setTimeout(() => {
            if (!document.querySelector("#sakuraScript")) {
                const script = document.createElement("script");
                script.id = "sakuraScript";
                script.src = "https://npm.elemecdn.com/tzy-blog/lib/js/other/sakura.js";
                script.async = true;
                document.body.appendChild(script);
                console.log("æ¨±èŠ±è„šæœ¬å·²åŠ è½½");
            }
        }, 50); // å»¶è¿Ÿ 50ms
    }
}

function removeSakuraEffect() {
    // æŸ¥æ‰¾å¯èƒ½çš„ DOM å…ƒç´ 
    const sakuraCanvas = document.querySelector("canvas");
    if (sakuraCanvas) {
        sakuraCanvas.remove(); // ç§»é™¤ç‰¹æ•ˆ Canvas
        console.log("æ¨±èŠ± Canvas å·²ç§»é™¤");
    }

    // åœæ­¢æ‰€æœ‰åŠ¨ç”»å¸§ï¼ˆå…¨å±€å¼ºåˆ¶åœæ­¢ï¼‰
    if (window.cancelAnimationFrame) {
        let id = window.requestAnimationFrame(() => {});
        while (id--) {
            cancelAnimationFrame(id);
        }
        console.log("æ‰€æœ‰åŠ¨ç”»å¸§å·²åœæ­¢");
    }

    // ç§»é™¤åŠ¨æ€åŠ è½½çš„è„šæœ¬
    const script = document.querySelector("#sakuraScript");
    if (script) {
        script.remove();
        console.log("æ¨±èŠ±è„šæœ¬å·²ç§»é™¤");
    }
}

//  é¡µé¢åˆ‡æ¢å‰æ¸…é™¤æ¨±èŠ±ç‰¹æ•ˆ
document.addEventListener("pjax:send", removeSakuraEffect);

//  é¡µé¢åˆ‡æ¢ç»“æŸåè¿›è¡Œæ£€æµ‹
document.addEventListener("pjax:complete", loadSakuraScript);

// é¡µé¢åˆæ¬¡åŠ è½½æˆ–åˆ·æ–°æ—¶ä¹Ÿè¦æ£€æµ‹è·¯å¾„
document.addEventListener("DOMContentLoaded", loadSakuraScript);
```

ç„¶ååœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶çš„injectéƒ¨åˆ†å¼•å…¥æ”¹è„šæœ¬å³å¯ï¼š

```yml
inject:
  head:
  bottom:
    #  æ¨±èŠ±ç‰¹æ•ˆ
    - <script defer src="/js/sakura.js"></script>
```

è¯¥è„šæœ¬çš„ä¸»è¦æ€è·¯å°±æ˜¯å–æ¶ˆç›´æ¥é€šè¿‡æ ‡ç­¾çš„æ–¹å¼å¼•ç”¨ç‰¹æ•ˆï¼ˆæ‰€ä»¥è®°å¾—åˆ é™¤å¯¹åº”é¡µé¢çš„ç‰¹æ•ˆæ ‡ç­¾ï¼Œé¿å…é‡å¤åŠ è½½ï¼‰ï¼Œé€šè¿‡è‡ªå®šä¹‰å‡½æ•°æ¥å®ç°ï¼Œä»…åœ¨éœ€è¦å¯ç”¨ç‰¹æ•ˆçš„é¡µé¢åŠ¨æ€åŠ è½½ã€‚åœ¨pjaxå›è°ƒä¸­æ§åˆ¶æ¨±èŠ±ç‰¹æ•ˆçš„åŠ è½½ä¸æ¸…ç†ï¼Œå¦‚æœæ£€æµ‹åˆ°é¡µé¢åˆ‡æ¢ï¼Œä¼šåœ¨åˆ‡æ¢å‰æ¸…ç†æ‰æ¨±èŠ±ç‰¹æ•ˆã€‚å½“è¿›å…¥ä¸€ä¸ªæ–°çš„é¡µé¢ï¼Œä¼šæ£€æŸ¥å½“å‰è·¯å¾„æ˜¯å¦éœ€è¦åŠ è½½æ¨±èŠ±ç‰¹æ•ˆã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥ä¿®æ”¹`addEventListenerï¼ˆï¼‰`å‡½æ•°æ¥æ§åˆ¶ç‰¹æ•ˆå…·ä½“è¦åŠ è½½åœ¨å“ªäº›ç•Œé¢ã€‚

å˜»å˜»ï¼Œæˆ‘çœŸå‰å®³ã€‚

{% endfolding %}

{% endfolding %}

## 13.å­—ä½“ä¿®æ”¹

{% folding cyan, æŸ¥çœ‹æ•™ç¨‹ %}

å‚è€ƒæ–‡ç« ï¼š[åˆ†ç±»: é­”æ”¹æ•™ç¨‹ | FomalhautğŸ¥](https://www.fomal.cc/posts/eec9786.html)

ä¿®æ”¹å­—ä½“ä¸ºéœé¹œæ–‡æ¥·ï¼Œæ¥·ä½“çœŸçš„æ»¡è¶³äº†æˆ‘å¯¹æ–‡å­—çš„ä¸€åˆ‡ç¾å¥½å¹»æƒ³ã€‚

{% endfolding %}

## 14.markdownæ¸²æŸ“å™¨å‡çº§

{% folding cyan, æŸ¥çœ‹æ•™ç¨‹ %}

æœ€åæ›´æ–°æ—¶é—´ï¼š2024-12-19

å‚è€ƒæ–‡ç« ï¼š[ã€Hexoã€‘é€‰æ‹©æ›´é«˜çº§çš„Markdownæ¸²æŸ“å™¨_hexo-renderer-marked-CSDNåšå®¢](https://blog.csdn.net/qq_42951560/article/details/123596899)

å¸è½½è‡ªå¸¦çš„æ¸²æŸ“å™¨ï¼š`npm un hexo-renderer-marked --save`

ä¸‹è½½æ–°çš„ï¼š`npm i hexo-renderer-markdown-it --save`

åœ¨Hexoé…ç½®æ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š

```yml
markdown:
  preset: "default"          # ä½¿ç”¨ Markdown-it çš„é»˜è®¤é¢„è®¾ï¼Œå¯ä»¥æ”¹ä¸º 'commonmark' æˆ– 'zero'
  render:
    html: true               # å…è®¸åœ¨ Markdown ä¸­ç›´æ¥ä½¿ç”¨ HTML æ ‡ç­¾
    xhtmlOut: false          # ç¦ç”¨ XHTML è¾“å‡ºæ ¼å¼
    langPrefix: "language-"  # ä¸ºä»£ç å—çš„è¯­è¨€æ·»åŠ å‰ç¼€ï¼ˆå¦‚ "language-js"ï¼‰
    breaks: true             # å°† Markdown ä¸­çš„æ¢è¡Œç¬¦è½¬æ¢ä¸º <br> æ ‡ç­¾
    linkify: false           # è‡ªåŠ¨å°†ç±»ä¼¼ URL çš„æ–‡æœ¬è½¬æ¢ä¸ºå¯ç‚¹å‡»é“¾æ¥
    typographer: false       # å¯ç”¨æ’ç‰ˆä¼˜åŒ–ï¼ˆä¾‹å¦‚ï¼Œå°†æ™®é€šå¼•å·è½¬æˆæ™ºèƒ½å¼•å·ï¼‰
    quotes: "â€œâ€â€˜â€™"           # å®šä¹‰å¼•å·çš„æ ·å¼ï¼Œä½¿ç”¨ä¸­æ–‡å¼•å·æ ·å¼
  enable_rules:              # å¯ç”¨çš„ Markdown-it æ¸²æŸ“è§„åˆ™ï¼ˆç•™ç©ºè¡¨ç¤ºé»˜è®¤è§„åˆ™ï¼‰
  disable_rules:             # ç¦ç”¨çš„ Markdown-it æ¸²æŸ“è§„åˆ™ï¼ˆç•™ç©ºè¡¨ç¤ºæ²¡æœ‰ç¦ç”¨ä»»ä½•è§„åˆ™ï¼‰
  plugins:                   # é…ç½®è¦å¯ç”¨çš„ markdown-it æ’ä»¶åˆ—è¡¨
    - markdown-it-abbr       # æ”¯æŒç¼©å†™ (abbr) è¯­æ³•
    - markdown-it-cjk-breaks # æ”¯æŒä¸­æ–‡ã€æ—¥æ–‡ã€éŸ©æ–‡æ¢è¡Œ
    - markdown-it-deflist    # æ”¯æŒå®šä¹‰åˆ—è¡¨ (definition list) è¯­æ³•
    - markdown-it-emoji      # æ”¯æŒ Emoji è¡¨æƒ…
    - markdown-it-footnote   # æ”¯æŒè„šæ³¨
    - markdown-it-ins        # æ”¯æŒæ’å…¥å†…å®¹ <ins>
    - markdown-it-mark       # æ”¯æŒæ ‡è®°å†…å®¹ <mark>
    - markdown-it-sub        # æ”¯æŒä¸‹æ ‡ <sub>
    - markdown-it-sup        # æ”¯æŒä¸Šæ ‡ <sup>
    - markdown-it-checkbox   # æ”¯æŒå¤é€‰æ¡†è¯­æ³•
    - markdown-it-imsize     # æ”¯æŒè‡ªå®šä¹‰å›¾ç‰‡å°ºå¯¸
    - markdown-it-expandable # æ”¯æŒå¯æŠ˜å å†…å®¹
    - markdown-it-mathjax3        # æ”¯æŒæ•°å­¦å…¬å¼ (MathJax3)
    - name: markdown-it-container # æ”¯æŒè‡ªå®šä¹‰å®¹å™¨ blockï¼Œç”¨äºè®¾ç½®å„ç§è‡ªå®šä¹‰å†…å®¹å—
      options: success            # å®šä¹‰ "success" ç±»å‹çš„å®¹å™¨ï¼ˆä¾‹å¦‚ï¼Œç”¨äºæˆåŠŸæç¤ºï¼‰
    - name: markdown-it-container
      options: tips               # å®šä¹‰ "tips" ç±»å‹çš„å®¹å™¨ï¼ˆä¾‹å¦‚ï¼Œç”¨äºå°æç¤ºï¼‰
    - name: markdown-it-container
      options: warning            # å®šä¹‰ "warning" ç±»å‹çš„å®¹å™¨ï¼ˆä¾‹å¦‚ï¼Œç”¨äºè­¦å‘Šæç¤ºï¼‰
    - name: markdown-it-container
      options: danger             # å®šä¹‰ "danger" ç±»å‹çš„å®¹å™¨ï¼ˆä¾‹å¦‚ï¼Œç”¨äºå±é™©æç¤ºï¼‰
  anchors:
    level: 2                            # è®¾ç½®é”šç‚¹çš„çº§åˆ«ï¼Œè¡¨ç¤ºä»ç¬¬ 2 çº§æ ‡é¢˜å¼€å§‹ç”Ÿæˆé”šç‚¹ï¼ˆå¦‚ `<h2>` æ ‡ç­¾ï¼‰ã€‚é€šå¸¸ï¼Œæ ‡é¢˜çš„çº§åˆ«ä» 1 å¼€å§‹ï¼Œ`level: 2` è¡¨ç¤ºä¸ºæ‰€æœ‰ 2 çº§åŠä»¥ä¸Šæ ‡é¢˜ç”Ÿæˆé”šç‚¹ã€‚
    collisionSuffix: ""                 # å¦‚æœå¤šä¸ªæ ‡é¢˜çš„é”šç‚¹é“¾æ¥ç›¸åŒï¼ˆä¾‹å¦‚æ ‡é¢˜æ–‡æœ¬ç›¸åŒï¼‰ï¼Œæ­¤é€‰é¡¹æ§åˆ¶å¦‚ä½•é¿å…å†²çªã€‚é»˜è®¤ä¸ºç©ºï¼Œè¡¨ç¤ºä¸æ·»åŠ ä»»ä½•åç¼€ï¼ˆä½ å¯ä»¥è®¾ç½®ä¸ºæ•°å­—åç¼€å¦‚ `-1`, `-2` ç­‰ï¼‰ã€‚
    permalink: false                    # æ˜¯å¦ä¸ºæ¯ä¸ªæ ‡é¢˜ç”Ÿæˆæ°¸ä¹…é“¾æ¥ã€‚è®¾ç½®ä¸º `false` è¡¨ç¤ºä¸ç”Ÿæˆé”šç‚¹é“¾æ¥ã€‚å¦‚æœè®¾ç½®ä¸º `true`ï¼Œåˆ™æ¯ä¸ªæ ‡é¢˜å°†æ‹¥æœ‰ä¸€ä¸ªå¯¹åº”çš„å¯ç‚¹å‡»çš„é”šç‚¹ã€‚
    permalinkClass: "header-anchor"     # ä¸ºæ¯ä¸ªæ ‡é¢˜çš„é”šç‚¹é“¾æ¥æ·»åŠ  CSS ç±»ã€‚è¿™é‡Œè®¾ç½®ä¸º `header-anchor`ï¼Œä½ å¯ä»¥ä½¿ç”¨è¯¥ç±»æ¥å®šåˆ¶é”šç‚¹çš„æ ·å¼ã€‚
    permalinkSide: "left"               # è®¾ç½®é”šç‚¹é“¾æ¥æ˜¾ç¤ºçš„ä½ç½®ã€‚`left` è¡¨ç¤ºé“¾æ¥æ˜¾ç¤ºåœ¨æ ‡é¢˜çš„å·¦è¾¹ï¼Œ`right` åˆ™æ˜¾ç¤ºåœ¨å³è¾¹ã€‚
    permalinkSymbol: "Â¶"               # è®¾ç½®é”šç‚¹é“¾æ¥çš„ç¬¦å·ï¼Œè¿™é‡Œä½¿ç”¨ `Â¶` ç¬¦å·è¡¨ç¤ºï¼Œé€šå¸¸ç”¨äºè¡¨ç¤ºæ®µè½çš„æ ‡è®°ã€‚ä½ å¯ä»¥æ ¹æ®éœ€è¦æ›´æ¢ä¸ºå…¶ä»–ç¬¦å·ã€‚
    case: 0                             # æ§åˆ¶é”šç‚¹æ–‡æœ¬çš„å¤§å°å†™ã€‚`0` è¡¨ç¤ºä¸ä¿®æ”¹å¤§å°å†™ï¼Œ`1` è¡¨ç¤ºè½¬æ¢ä¸ºå°å†™ï¼Œ`2` è¡¨ç¤ºè½¬æ¢ä¸ºå¤§å†™ã€‚
    separator: "-"                      # è®¾ç½®é”šç‚¹ç”Ÿæˆæ—¶ï¼Œæ ‡é¢˜ä¸­çš„ç©ºæ ¼æˆ–ç‰¹æ®Šå­—ç¬¦å¦‚ä½•æ›¿æ¢ï¼Œé»˜è®¤ä¸º `-`ï¼Œå³ç©ºæ ¼ä¼šè¢«æ›¿æ¢æˆç ´æŠ˜å·ï¼ˆä¾‹å¦‚ `My Title` ä¼šå˜æˆ `my-title`ï¼‰ã€‚
```

é¢å¤–ä¸‹è½½å››ä¸ªmarkdown-itæ²¡æœ‰çš„æ’ä»¶ï¼š

```bash
npm i markdown-it-checkbox
npm i markdown-it-imsize
npm i markdown-it-expandable
npm i markdown-it-mathjax3
```

åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­å¯¹Mathéƒ¨åˆ†è¿›è¡Œç›¸å…³é…ç½®ï¼Œé€‰æ‹©å¯ç”¨mathjaxï¼Œå¹¶è‡ªè¡Œé€‰æ‹©å…¶ä»–ä¸ªæ€§åŒ–è°ƒæ•´ã€‚

ç»Ÿç»ŸåŠ è¿›å»ï¼Œæˆ‘å¯ä»¥ä¸ç”¨ï¼Œä½†ä¸èƒ½æ²¡æœ‰ï¼ˆ

{% endfolding %}

## 15.å¯¼èˆªæ å–æ¶ˆæ–‡ç« æ ‡é¢˜æ˜¾ç¤º

{% folding cyan, æŸ¥çœ‹æ•™ç¨‹ %}

æœ€åæ›´æ–°æ—¶é—´ï¼š2024-12-19

æˆ‘çš„æ–‡ç« æ ‡é¢˜éƒ½å¾ˆé•¿ï¼Œæ”¾åœ¨å¯¼èˆªæ ä¸Šå¾ˆä¸‘ï¼Œè¿˜ä¼šå’Œå…¶ä»–éƒ¨ä»¶é‡å ï¼Œå› æ­¤æƒ³è¦å…³æ‰ã€‚

å®ç°æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼ŒæŠŠ`themes/butterfly/layout/includes/header/nav.pug`æ–‡ä»¶ä¸­çš„`span.site-name=(page.title || config.title)`ä¿®æ”¹æˆ`span.site-name=(config.title)`ã€‚

å³å–æ¶ˆå¯¹æ–‡ç« æ ‡é¢˜çš„åˆ¤æ–­ï¼Œç›´æ¥æ˜¾ç¤ºåšå®¢çš„æ ‡é¢˜ã€‚

{% endfolding %}

## 16.å¼•å…¥å¤–æŒ‚æ ‡ç­¾

{% folding cyan, æŸ¥çœ‹æ•™ç¨‹ %}

å‚è€ƒæ–‡ç« ï¼š[åˆ†ç±»: é­”æ”¹æ•™ç¨‹ | FomalhautğŸ¥](https://www.fomal.cc/posts/5389e93f.html)

æ ¼å¼æ±‡æ€»ï¼š[Markdownè¯­æ³•ä¸å¤–æŒ‚æ ‡ç­¾å†™æ³•æ±‡æ€» | FomalhautğŸ¥](https://www.fomal.cc/posts/2013454d.html)

å®æµ‹`hexo-renderer-markdown-it`æ¸²æŸ“å™¨å¯ä»¥æ”¯æŒã€‚

Butterflyå¤–æŒ‚æ ‡ç­¾å¾ˆå¥½çœ‹ï¼Œå¯æƒœåŸç”Ÿmarkdownä¸æ”¯æŒè¿™äº›èŠ±é‡Œèƒ¡å“¨çš„ä¸œè¥¿ï¼Œä¸çŸ¥é“ä¼šä¸ä¼šå…»æˆåä¹ æƒ¯ã€‚

{% endfolding %}

## 17.æ ‡é¢˜å°é£è½¦

{% folding cyan, æŸ¥çœ‹æ•™ç¨‹ %}

å‚è€ƒæ–‡ç« ï¼š[butterfly é‡è£…æ—¥è®° | å®‰çŸ¥é±¼ (anheyu.com)](https://blog.anheyu.com/posts/sdxhu.html)

é£è½¦é£è½¦è¿˜æ˜¯å°é£è½¦ï¼ŒçœŸæ²¡åˆ›æ„ã€‚

{% endfolding %}
